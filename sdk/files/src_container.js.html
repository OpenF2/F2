<!DOCTYPE html>
<html>
<head>
<title>API Reference - F2: Open Financial Framework</title>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="description" content="F2 is an open and free web integration framework designed to help you and other financial industry participants develop custom solutions that combine the best tools and content from multiple providers into one, privately-labeled, seamlessly integrated front-end."/>
<meta name="viewport" content="width=device-width initial-scale=1.0"/>
<link rel="stylesheet" href="/css/site.css?v=2.0.0"/>
<link rel="stylesheet" href="../assets/css/custom.css">
<link rel="stylesheet" href="../assets/css/prettify.css">
<link rel="shortcut icon" href="/img/favicon.ico?v=2.0.0" type="image/x-icon"/>
<meta name="apple-mobile-web-app-title" content="F2"/>
<link rel="apple-touch-icon" href="/img/apple-touch-icon.png?v=2.0.0"/>
<link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon-57x57.png?v=2.0.0"/>
<link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png?v=2.0.0"/>
<link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=2.0.0"/>
<link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png?v=2.0.0"/>
<link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=2.0.0"/>
<link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png?v=2.0.0"/>
<link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png?v=2.0.0"/>
<link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png?v=2.0.0"/>
<meta name="msapplication-square70x70logo" content="/img/smalltile.png?v=2.0.0"/>
<meta name="msapplication-square150x150logo" content="/img/mediumtile.png?v=2.0.0"/>
<meta name="msapplication-wide310x150logo" content="/img/widetile.png?v=2.0.0"/>
<meta name="msapplication-square310x310logo" content="/img/largetile.png?v=2.0.0"/><!--[if lt IE 9]>
<script src="/js/thirdparty/polyfills/es5.js?v=2.0.0"></script><![endif]-->
<!--[if lt IE 9]>
<script src="/js/thirdparty/respond.min.js?v=2.0.0"></script><![endif]-->
<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
<style>
  .pageContent {
    margin-top: 20px;
  }
  #docs-main .page-header {
  	margin-top: 0;
  }
  .docs #docs p:last-child {
    margin-bottom: 25px;
  }
  #docs div.media:last-child {
    margin-bottom: 100px;
  }
  .sidebar-toc {
    overflow: hidden;
  }
</style>
<script type="text/javascript">
  if ((/openf2.github.io/i).test(window.location.hostname)) {
   var _gaq = _gaq || [];
   _gaq.push(['_setAccount', 'UA-35230380-1']);
   _gaq.push(['_setDomainName', 'openf2.org']);
   _gaq.push(['_trackPageview']);

   (function() {
   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
   })();
  }
</script>
</head>
<body class="yui3-skin-sam">
<div role="navigation" class="navbar navbar-inverse navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" data-toggle="collapse" data-target="#f2navbarcollapse" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" title="Home" class="navbar-brand">F2</a>
    </div>
    <div id="f2navbarcollapse" class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="examples.html">Examples</a></li>
        <li><a href="https://github.com/OpenF2/F2">GitHub</a></li>
      </ul>
    </div>
  </div>
</div>
<div class="docs">
  <section class="container pageContent">
    <div class="row">
      <div class="col-sm-12">
        <ol class="breadcrumb">
          <li class="hidden-xs"><a href="/">Home</a></li>
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" href="#">Docs<span class="hidden-xs">&nbsp;v2.0.0</span>&nbsp;<span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              <li><a href="../../index.html">Getting Started</a></li>
              <li><a href="../../container-development.html">Container Development</a></li>
              <li><a href="../../app-development.html">App Development</a></li>
              <li><a href="../../extending-f2.html">Extending F2</a></li>
              <li><a href="../../migrating-to-v2.html">Migrating to V2</a></li>
              <li class="active"><a href="../">F2.js API Reference</a></li>
              <li class="divider"></li>
              <li><a href="https://github.com/OpenF2/F2/issues/new?title=Feedback+for:+API Reference" id="feedbackLink" target="_blank">Submit Feedback</a></li>
              <li class="divider"></li>
              <li><a href="https://github.com/OpenF2/F2/releases" target="_blank">Other versions</a></li>
            </ul>
          </li>
          <li class="active">API Reference</li>
        </ol>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3 sidebar-nav" id="toc">
        <div class="navs">
          <div class="spy-container">
            <ul class="nav nav-stacked sidebar-toc">
              <li><a href="../">API Reference</a></li>
                  <li class=""><a href="../classes/F2.html">F2</a></li>
                  <li class=""><a href="../classes/F2.App.html">F2.App</a></li>
                  <li class=""><a href="../classes/F2.AppConfig.html">F2.AppConfig</a></li>
                  <li class=""><a href="../classes/F2.AppHandlers.html">F2.AppHandlers</a></li>
                  <li class=""><a href="../classes/F2.AppManifest.html">F2.AppManifest</a></li>
                  <li class=""><a href="../classes/F2.AppManifest.AppContent.html">F2.AppManifest.AppContent</a></li>
                  <li class="hidden"><a href="../classes/F2.Constants.html">F2.Constants</a></li>
                  <li class=""><a href="../classes/F2.Constants.AppHandlers.html">F2.Constants.AppHandlers</a></li>
                  <li class=""><a href="../classes/F2.Constants.Css.html">F2.Constants.Css</a></li>
                  <li class=""><a href="../classes/F2.Constants.Events.html">F2.Constants.Events</a></li>
                  <li class=""><a href="../classes/F2.ContainerConfig.html">F2.ContainerConfig</a></li>
                  <li class=""><a href="../classes/F2.Events.html">F2.Events</a></li>
            </ul>
          </div>
          <p class="back-to-top"><a href="#top"><i class="fa fa-arrow-circle-up"></i> Back to top</a></p>
          <ul class="nav nav-stacked">
            <li><a href="#">Sections</a></li>
            <li><a href="../../index.html">Getting Started</a></li>
            <li><a href="../../container-development.html">Container Development</a></li>
            <li><a href="../../app-development.html">App Development</a></li>
            <li><a href="../../extending-f2.html">Extending F2</a></li>
            <li><a href="../../migrating-to-v2.html">Migrating to V2</a></li>
            <li class="active"><a href="../">API Reference</a></li>
          </ul>
        </div>
      </div>
      <div class="col-sm-9" id="docs">
      	<div class="apidocs">
	      	<div id="docs-main">
	        	<div class="content">
	        		<form id='options-form' class='form-inline pull-right'>
	        			Show:
	        			<!--<div class="checkbox">
	        		        <label>
	        		            <input type="checkbox" id="api-show-inherited" checked>
	        		            Inherited
	        		        </label>
	        		    </div>
	        		    <div class="checkbox">
	        		        <label>
	        		            <input type="checkbox" id="api-show-protected">
	        		            Protected
	        		        </label>
	        		    </div>-->
	        			<div class='checkbox'>
	        				<label>
	        					<input type='checkbox' id='api-show-private' />
	        					Private
	        				</label>
	        			</div>
	        			<div class='checkbox'>
	        				<label>
	        					<input type='checkbox' id='api-show-deprecated' />
	        					Deprecated
	        				</label>
	        			</div>
	        		</form>	                <h1 class='page-header'>src\container.js <small>File</small></h1>
	                
	                <div class='file'>
	                	<pre class='prettyprint linenums'><code>
	                			import appHandlers from &#x27;./appHandlers&#x27;;
	                import appClasses from &#x27;./apps&#x27;;
	                import classes from &#x27;./classes&#x27;;
	                import cloneDeep from &#x27;lodash.clonedeep&#x27;;
	                import constants from &#x27;./constants&#x27;;
	                import dom from &#x27;./utils/dom&#x27;;
	                import domify from &#x27;domify&#x27;;
	                import events from &#x27;./events&#x27;;
	                import utils from &#x27;./utils&#x27;;
	                import fetchJsonp from &#x27;fetch-jsonp&#x27;;
	                
	                var _apps = {};
	                var _config = false;
	                var _sAppHandlerToken = appHandlers.__f2GetToken();
	                var _loadingScripts = {};
	                
	                /**
	                 * Search for a value within an array.
	                 * @method inArray
	                 * @param {object} value The value to search for
	                 * @param {Array} array The array to search
	                 * @return {int} index of the value in the array, -1 if value not found
	                 */
	                var _inArray = function (value, array) {
	                	if (Array.isArray(array)) {
	                		return array.indexOf(value);
	                	}
	                
	                	for (var i = 0; i &lt; array.length; i++) {
	                		if (array[i] === value) {
	                			return i;
	                		}
	                	}
	                
	                	return -1;
	                };
	                
	                /**
	                 * Adds properties to the AppConfig object
	                 * @method _createAppConfig
	                 * @private
	                 * @param {F2.AppConfig} appConfig The F2.AppConfig object
	                 * @return {F2.AppConfig} The new F2.AppConfig object, prepopulated with
	                 * necessary properties
	                 */
	                var _createAppConfig = function (appConfig) {
	                	// make a copy of the app config to ensure that the original is not modified
	                	appConfig = cloneDeep(appConfig) || {};
	                
	                	// create the instanceId for the app
	                	appConfig.instanceId = appConfig.instanceId || utils.guid();
	                
	                	//pass container-defined locale to each app
	                	if (classes.ContainerConfig.locale) {
	                		appConfig.containerLocale = classes.ContainerConfig.locale;
	                	}
	                
	                	return appConfig;
	                };
	                
	                /**
	                 * Generate an AppConfig from the element&#x27;s attributes
	                 * @method _getAppConfigFromElement
	                 * @private
	                 * @param {Element} node The DOM node from which to generate the F2.AppConfig object
	                 * @return {F2.AppConfig} The new F2.AppConfig object
	                 */
	                var _getAppConfigFromElement = function (node) {
	                	var appConfig;
	                
	                	if (node) {
	                		var appId = node.getAttribute(&#x27;data-f2-appid&#x27;);
	                		var manifestUrl = node.getAttribute(&#x27;data-f2-manifesturl&#x27;);
	                
	                		if (appId &amp;&amp; manifestUrl) {
	                			appConfig = {
	                				appId: appId,
	                				enableBatchRequests: node.hasAttribute(&#x27;data-f2-enablebatchrequests&#x27;),
	                				manifestUrl: manifestUrl,
	                				root: node
	                			};
	                
	                			// See if the user passed in a block of serialized json
	                			var contextJson = node.getAttribute(&#x27;data-f2-context&#x27;);
	                
	                			if (contextJson) {
	                				try {
	                					appConfig.context = utils.parse(contextJson);
	                				} catch (e) {
	                					console.warn(
	                						&#x27;F2: &quot;data-f2-context&quot; of node is not valid JSON&#x27;,
	                						&#x27;&quot;&#x27; + e + &#x27;&quot;&#x27;
	                					);
	                				}
	                			}
	                		}
	                	}
	                
	                	return appConfig;
	                };
	                
	                /**
	                 * Returns true if the DOM node has children that are not text nodes
	                 * @method _hasNonTextChildNodes
	                 * @private
	                 * @param {Element} node The DOM node
	                 * @return {bool} True if there are non-text children
	                 */
	                var _hasNonTextChildNodes = function (node) {
	                	var hasNodes = false;
	                
	                	if (node.hasChildNodes()) {
	                		for (var i = 0, len = node.childNodes.length; i &lt; len; i++) {
	                			if (node.childNodes[i].nodeType === 1) {
	                				hasNodes = true;
	                				break;
	                			}
	                		}
	                	}
	                
	                	return hasNodes;
	                };
	                
	                /**
	                 * Adds properties to the ContainerConfig object to take advantage of defaults
	                 * @method _hydrateContainerConfig
	                 * @private
	                 * @param {F2.ContainerConfig} containerConfig The F2.ContainerConfig object
	                 */
	                var _hydrateContainerConfig = function (containerConfig) {
	                	if (!containerConfig.scriptErrorTimeout) {
	                		containerConfig.scriptErrorTimeout =
	                			classes.ContainerConfig.scriptErrorTimeout;
	                	}
	                
	                	if (containerConfig.debugMode !== true) {
	                		containerConfig.debugMode = classes.ContainerConfig.debugMode;
	                	}
	                
	                	if (containerConfig.locale &amp;&amp; typeof containerConfig.locale == &#x27;string&#x27;) {
	                		classes.ContainerConfig.locale = containerConfig.locale;
	                	}
	                };
	                
	                /**
	                 * Attach container Events
	                 * @method _initContainerEvents
	                 * @private
	                 */
	                var _initContainerEvents = function () {
	                	var resizeTimeout;
	                	var resizeHandler = function () {
	                		events.emit(constants.Events.CONTAINER_WIDTH_CHANGE);
	                	};
	                
	                	// TODO: remove this on destroy()
	                	window.addEventListener(&#x27;resize&#x27;, function () {
	                		clearTimeout(resizeTimeout);
	                		resizeTimeout = setTimeout(resizeHandler, 100);
	                	});
	                
	                	//listen for container-broadcasted locale changes
	                	events.on(constants.Events.CONTAINER_LOCALE_CHANGE, function (data) {
	                		if (data.locale &amp;&amp; typeof data.locale == &#x27;string&#x27;) {
	                			classes.ContainerConfig.locale = data.locale;
	                		}
	                	});
	                };
	                
	                /**
	                 * Checks if an element is a placeholder element
	                 * @method _isPlaceholderElement
	                 * @private
	                 * @param {Element} node The DOM element to check
	                 * @return {bool} True if the element is a placeholder
	                 */
	                var _isPlaceholderElement = function (node) {
	                	return (
	                		dom.isNativeNode(node) &amp;&amp;
	                		!_hasNonTextChildNodes(node) &amp;&amp;
	                		!!node.getAttribute(&#x27;data-f2-appid&#x27;) &amp;&amp;
	                		!!node.getAttribute(&#x27;data-f2-manifesturl&#x27;)
	                	);
	                };
	                
	                /**
	                 * Has the container been init?
	                 * @method _isInit
	                 * @private
	                 * @return {bool} True if the container has been init
	                 */
	                var _isInit = function () {
	                	return !!_config;
	                };
	                
	                /**
	                 * Instantiates each app from it&#x27;s appConfig and stores that in a local private collection
	                 * @method _createAppInstance
	                 * @private
	                 * @param {Array} appConfigs An array of {{#crossLink &quot;F2.AppConfig&quot;}}{{/crossLink}} objects
	                 */
	                var _createAppInstance = function (appConfig, appContent) {
	                	// instantiate F2.App
	                	if (appClasses[appConfig.appId] !== undefined) {
	                		if (typeof appClasses[appConfig.appId] === &#x27;function&#x27;) {
	                			// IE
	                			setTimeout(function () {
	                				// #265
	                				if (!_apps[appConfig.instanceId]) {
	                					utils.log(
	                						&#x27;Unable to create app (&#x27; +
	                							appConfig.instanceId +
	                							&#x27;) as it does not exist.&#x27;
	                					);
	                					return;
	                				}
	                				_apps[appConfig.instanceId].app = new appClasses[appConfig.appId](
	                					appConfig,
	                					appContent,
	                					appConfig.root
	                				);
	                				if (_apps[appConfig.instanceId].app[&#x27;init&#x27;] !== undefined) {
	                					_apps[appConfig.instanceId].app.init();
	                				}
	                			}, 0);
	                		} else {
	                			utils.log(
	                				&#x27;app initialization class is defined but not a function. (&#x27; +
	                					appConfig.appId +
	                					&#x27;)&#x27;
	                			);
	                		}
	                	}
	                };
	                
	                /**
	                 * Loads the app&#x27;s html/css/javascript
	                 * @method loadApp
	                 * @private
	                 * @param {Array} appConfigs An array of
	                 * {{#crossLink &quot;F2.AppConfig&quot;}}{{/crossLink}} objects
	                 * @param {F2.AppManifest} [appManifest] The AppManifest object
	                 */
	                var _loadApps = function (appConfigs, appManifest) {
	                	appConfigs = [].concat(appConfigs);
	                
	                	// check that the number of apps in manifest matches the number requested
	                	if (appConfigs.length != appManifest.apps.length) {
	                		utils.log(
	                			&#x27;The number of apps defined in the AppManifest do not match the number requested.&#x27;,
	                			appManifest
	                		);
	                		return;
	                	}
	                
	                	var _findExistingScripts = function () {
	                		var scripts = document.querySelectorAll(&#x27;script[src]&#x27;) || [];
	                		var src = [];
	                
	                		for (var i = 0; i &lt; scripts.length; i++) {
	                			src.push(scripts[i].src);
	                		}
	                
	                		return src;
	                	};
	                
	                	var _findExistingStyles = function () {
	                		var src = [];
	                		var styles = document.querySelectorAll(&#x27;link[href]&#x27;) || [];
	                
	                		for (var i = 0; i &lt; styles.length; i++) {
	                			src.push(styles[i].src);
	                		}
	                
	                		return src;
	                	};
	                
	                	// Fn for loading manifest Styles
	                	var _loadStyles = function (styles, cb) {
	                		// Reduce the list to styles that haven&#x27;t been loaded
	                		var existingStyles = _findExistingStyles();
	                		var filteredStyles = [];
	                
	                		for (var i = 0; i &lt; styles.length; i++) {
	                			var url = styles[i];
	                			if (url &amp;&amp; _inArray(url, existingStyles) === -1) {
	                				filteredStyles.push(url);
	                			}
	                		}
	                
	                		// Attempt to use the user provided method
	                		if (_config.loadStyles) {
	                			return _config.loadStyles(filteredStyles, cb);
	                		}
	                
	                		// load styles, see #101
	                		var stylesFragment = null,
	                			useCreateStyleSheet = !!document.createStyleSheet;
	                
	                		for (var j = 0; j &lt; filteredStyles.length; j++) {
	                			if (useCreateStyleSheet) {
	                				document.createStyleSheet(filteredStyles[j]);
	                			} else {
	                				stylesFragment = stylesFragment || [];
	                				stylesFragment.push(
	                					&#x27;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;&#x27; +
	                						filteredStyles[j] +
	                						&#x27;&quot;/&gt;&#x27;
	                				);
	                			}
	                		}
	                
	                		if (stylesFragment) {
	                			var node = domify(stylesFragment.join(&#x27;&#x27;));
	                			document.getElementsByTagName(&#x27;head&#x27;)[0].appendChild(node);
	                		}
	                
	                		cb();
	                	};
	                
	                	// For loading AppManifest.scripts
	                	// Parts derived from curljs, headjs, requirejs, dojo
	                	var _loadScripts = function (scripts, cb) {
	                		// Reduce the list to scripts that haven&#x27;t been loaded
	                		var existingScripts = _findExistingScripts();
	                		var loadingScripts = Object.keys(_loadingScripts);
	                		var filteredScripts = [];
	                
	                		for (var i = 0; i &lt; scripts.length; i++) {
	                			var url = scripts[i];
	                			if (
	                				url &amp;&amp;
	                				(_inArray(url, existingScripts) === -1 ||
	                					_inArray(url, loadingScripts) !== -1)
	                			) {
	                				filteredScripts.push(url);
	                			}
	                		}
	                
	                		// Attempt to use the user provided method
	                		if (_config.loadScripts) {
	                			return _config.loadScripts(filteredScripts, cb);
	                		}
	                
	                		if (!filteredScripts.length) {
	                			return cb();
	                		}
	                
	                		var doc = window.document;
	                		var scriptCount = filteredScripts.length;
	                		var scriptsLoaded = 0;
	                		//http://caniuse.com/#feat=script-async
	                		// var supportsAsync = &#x27;async&#x27; in doc.createElement(&#x27;script&#x27;) || &#x27;MozAppearance&#x27; in doc.documentElement.style || window.opera;
	                		var head = doc &amp;&amp; (doc[&#x27;head&#x27;] || doc.getElementsByTagName(&#x27;head&#x27;)[0]);
	                		// to keep IE from crying, we need to put scripts before any
	                		// &lt;base&gt; elements, but after any &lt;meta&gt;. this should do it:
	                		var insertBeforeEl = (head &amp;&amp; head.getElementsByTagName(&#x27;base&#x27;)[0]) || null;
	                		// Check for IE10+ so that we don&#x27;t rely on onreadystatechange, readyStates for IE6-9
	                		var readyStates =
	                			&#x27;addEventListener&#x27; in window ? {} : { loaded: true, complete: true };
	                
	                		// Log and emit event for the failed (400,500) scripts
	                		var _error = function (e) {
	                			setTimeout(function () {
	                				var evtData = {
	                					src: e.target.src,
	                					appId: appConfigs[0].appId
	                				};
	                
	                				// Send error to console
	                				utils.log(
	                					&quot;Script defined in &#x27;&quot; +
	                						evtData.appId +
	                						&quot;&#x27; failed to load &#x27;&quot; +
	                						evtData.src +
	                						&quot;&#x27;&quot;
	                				);
	                
	                				appHandlers.__trigger(
	                					_sAppHandlerToken,
	                					constants.AppHandlers.APP_SCRIPT_LOAD_FAILED,
	                					appConfigs[0],
	                					evtData.src
	                				);
	                			}, _config.scriptErrorTimeout); // Defaults to 7000
	                		};
	                
	                		var _checkComplete = function () {
	                			if (++scriptsLoaded === scriptCount) {
	                				cb();
	                			}
	                		};
	                
	                		var _emptyWaitlist = function (resourceKey, errorEvt) {
	                			var waiting,
	                				waitlist = _loadingScripts[resourceKey];
	                
	                			if (!waitlist) {
	                				return;
	                			}
	                
	                			for (var i = 0; i &lt; waitlist.length; i++) {
	                				waiting = waitlist[i];
	                
	                				if (errorEvt) {
	                					waiting.error(errorEvt);
	                				} else {
	                					waiting.success();
	                				}
	                			}
	                
	                			_loadingScripts[resourceKey] = null;
	                		};
	                
	                		// Load scripts and eval inlines once complete
	                		filteredScripts.forEach(function (e) {
	                			var script = doc.createElement(&#x27;script&#x27;),
	                				resourceUrl = e,
	                				resourceKey = resourceUrl.toLowerCase();
	                
	                			// this script is actively loading, add this app to the wait list
	                			if (_loadingScripts[resourceKey]) {
	                				_loadingScripts[resourceKey].push({
	                					success: _checkComplete,
	                					error: _error
	                				});
	                				return;
	                			}
	                
	                			// create the waitlist
	                			_loadingScripts[resourceKey] = [];
	                
	                			// If in debugMode, add cache buster to each script URL
	                			if (_config.debugMode) {
	                				resourceUrl +=
	                					(/\?/.test(resourceUrl) ? &#x27;&amp;&#x27; : &#x27;?&#x27;) +
	                					&#x27;cachebuster=&#x27; +
	                					new Date().getTime();
	                			}
	                
	                			// Scripts are loaded asynchronously and executed in order
	                			// in supported browsers: http://caniuse.com/#feat=script-async
	                			script.async = false;
	                			script.type = &#x27;text/javascript&#x27;;
	                			script.charset = &#x27;utf-8&#x27;;
	                
	                			script.onerror = function (e) {
	                				_error(e);
	                				_emptyWaitlist(resourceKey, e);
	                			};
	                
	                			// Use a closure for the load event so that we can dereference the original script
	                			script.onload = script.onreadystatechange = function (e) {
	                				e = e || window.event; // For older IE
	                
	                				// detect when it&#x27;s done loading
	                				// ev.type == &#x27;load&#x27; is for all browsers except IE6-9
	                				// IE6-9 need to use onreadystatechange and look for
	                				// el.readyState in {loaded, complete} (yes, we need both)
	                				if (e.type == &#x27;load&#x27; || readyStates[script.readyState]) {
	                					// Done, cleanup
	                					script.onload = script.onreadystatechange = script.onerror = &#x27;&#x27;;
	                					// increment and check if scripts are done
	                					_checkComplete();
	                					// empty wait list
	                					_emptyWaitlist(resourceKey);
	                					// Dereference script
	                					script = null;
	                				}
	                			};
	                
	                			//set the src, start loading
	                			script.src = resourceUrl;
	                
	                			//&lt;head&gt; really is the best
	                			head.insertBefore(script, insertBeforeEl);
	                		});
	                	};
	                
	                	var _loadInlineScripts = function (inlines, cb) {
	                		// Attempt to use the user provided method
	                		if (_config.loadInlineScripts) {
	                			_config.loadInlineScripts(inlines, cb);
	                		} else {
	                			for (var i = 0, len = inlines.length; i &lt; len; i++) {
	                				try {
	                					eval(inlines[i]);
	                				} catch (exception) {
	                					utils.log(
	                						&#x27;Error loading inline script: &#x27; + exception + &#x27;\n\n&#x27; + inlines[i]
	                					);
	                
	                					// Emit events
	                					appHandlers.__trigger(
	                						_sAppHandlerToken,
	                						constants.AppHandlers.APP_SCRIPT_LOAD_FAILED,
	                						appConfigs[0],
	                						exception
	                					);
	                				}
	                			}
	                			cb();
	                		}
	                	};
	                
	                	// Determine whether an element has been added to the page
	                	var elementInDocument = function (element) {
	                		if (element) {
	                			while (element.parentNode) {
	                				element = element.parentNode;
	                
	                				if (element === document) {
	                					return true;
	                				}
	                			}
	                		}
	                
	                		return false;
	                	};
	                
	                	// Fn for loading manifest app html
	                	var _loadHtml = function (apps) {
	                		apps.forEach(function (a, i) {
	                			if (_isPlaceholderElement(appConfigs[i].root)) {
	                				var node = domify(a.html);
	                				node.classList.add(constants.Css.APP_CONTAINER);
	                				node.classList.add(appConfigs[i].appId);
	                				appConfigs[i].root.classList.add(constants.Css.APP);
	                				appConfigs[i].root.appendChild(node);
	                			} else {
	                				var container = document.createElement(&#x27;div&#x27;);
	                				var childNode = domify(a.html);
	                				childNode.classList.add(constants.Css.APP_CONTAINER);
	                				childNode.classList.add(appConfigs[i].appId);
	                				container.appendChild(childNode);
	                
	                				appHandlers.__trigger(
	                					_sAppHandlerToken,
	                					constants.AppHandlers.APP_RENDER,
	                					appConfigs[i], // the app config
	                					container.innerHTML
	                				);
	                
	                				var appId = appConfigs[i].appId,
	                					root = appConfigs[i].root;
	                
	                				if (!root) {
	                					throw (
	                						&#x27;Root for &#x27; +
	                						appId +
	                						&#x27; must be a native DOM element and cannot be null or undefined. Check your AppHandler callbacks to ensure you have set App root to a native DOM element.&#x27;
	                					);
	                				}
	                
	                				if (!elementInDocument(root)) {
	                					throw (
	                						&#x27;App root for &#x27; +
	                						appId +
	                						&#x27; was not appended to the DOM. Check your AppHandler callbacks to ensure you have rendered the app root to the DOM.&#x27;
	                					);
	                				}
	                
	                				appHandlers.__trigger(
	                					_sAppHandlerToken,
	                					constants.AppHandlers.APP_RENDER_AFTER,
	                					appConfigs[i] // the app config
	                				);
	                
	                				if (!dom.isNativeNode(root)) {
	                					throw (
	                						&#x27;App root for &#x27; +
	                						appId +
	                						&#x27; must be a native DOM element. Check your AppHandler callbacks to ensure you have set app root to a native DOM element.&#x27;
	                					);
	                				}
	                			}
	                		});
	                	};
	                
	                	// Pull out the manifest data
	                	var scripts = appManifest.scripts || [];
	                	var styles = appManifest.styles || [];
	                	var inlines = appManifest.inlineScripts || [];
	                	var apps = appManifest.apps || [];
	                
	                	// Finally, load the styles, html, and scripts
	                	_loadStyles(styles, function () {
	                		// Put the html on the page
	                		_loadHtml(apps);
	                		// Add the script content to the page
	                		_loadScripts(scripts, function () {
	                			// emit event we&#x27;re done with scripts
	                			if (appConfigs[0]) {
	                				events.emit(&#x27;APP_SCRIPTS_LOADED&#x27;, {
	                					appId: appConfigs[0].appId,
	                					scripts: scripts
	                				});
	                			}
	                			// Load any inline scripts
	                			_loadInlineScripts(inlines, function () {
	                				// Create the apps
	                				appConfigs.forEach(function (a, i) {
	                					_createAppInstance(a, appManifest.apps[i]);
	                				});
	                			});
	                		});
	                	});
	                };
	                
	                /**
	                 * Checks if the app is valid
	                 * @method _validateApp
	                 * @private
	                 * @param {F2.AppConfig} appConfig The F2.AppConfig object
	                 * @returns {bool} True if the app is valid
	                 */
	                var _validateApp = function (appConfig) {
	                	// check for valid app configurations
	                	if (!appConfig.appId) {
	                		utils.log(&#x27;&quot;appId&quot; missing from app object&#x27;);
	                		return false;
	                	} else if (!appConfig.root &amp;&amp; !appConfig.manifestUrl) {
	                		utils.log(&#x27;&quot;manifestUrl&quot; missing from app object&#x27;);
	                		return false;
	                	}
	                
	                	return true;
	                };
	                
	                /**
	                 * Checks if the ContainerConfig is valid
	                 * @method _validateContainerConfig
	                 * @private
	                 * @returns {bool} True if the config is valid
	                 */
	                var _validateContainerConfig = function () {
	                	if (_config) {
	                		if (_config.xhr) {
	                			if (
	                				!(typeof _config.xhr === &#x27;function&#x27; || typeof _config.xhr === &#x27;object&#x27;)
	                			) {
	                				throw &#x27;ContainerConfig.xhr should be a function or an object&#x27;;
	                			}
	                			if (_config.xhr.dataType &amp;&amp; typeof _config.xhr.dataType !== &#x27;function&#x27;) {
	                				throw &#x27;ContainerConfig.xhr.dataType should be a function&#x27;;
	                			}
	                			if (_config.xhr.type &amp;&amp; typeof _config.xhr.type !== &#x27;function&#x27;) {
	                				throw &#x27;ContainerConfig.xhr.type should be a function&#x27;;
	                			}
	                			if (_config.xhr.url &amp;&amp; typeof _config.xhr.url !== &#x27;function&#x27;) {
	                				throw &#x27;ContainerConfig.xhr.url should be a function&#x27;;
	                			}
	                		}
	                	}
	                
	                	return true;
	                };
	                
	                /**
	                 * Root namespace of the F2 SDK
	                 * @module f2
	                 * @class F2
	                 */
	                export default {
	                	/**
	                	 * Gets the current list of apps in the container
	                	 * @method getContainerState
	                	 * @returns {Array} An array of objects containing the appId
	                	 */
	                	getContainerState: function () {
	                		if (!_isInit()) {
	                			utils.log(&#x27;F2.init() must be called before F2.getContainerState()&#x27;);
	                			return;
	                		}
	                
	                		var apps = [];
	                
	                		for (var i = 0; i &lt; _apps.length; i++) {
	                			apps.push({
	                				appId: _apps[i].config.appId
	                			});
	                		}
	                
	                		return apps;
	                	},
	                	/**
	                	 * Gets the current locale defined by the container
	                	 * @method getContainerLocale
	                	 * @returns {String} IETF-defined standard language tag
	                	 */
	                	getContainerLocale: function () {
	                		if (!_isInit()) {
	                			utils.log(&#x27;F2.init() must be called before F2.getContainerLocale()&#x27;);
	                			return;
	                		}
	                
	                		return classes.ContainerConfig.locale;
	                	},
	                	/**
	                	 * Initializes the container. This method must be called before performing
	                	 * any other actions in the container.
	                	 * @method init
	                	 * @param {F2.ContainerConfig} config The configuration object
	                	 */
	                	init: function (config) {
	                		_config = config || {};
	                
	                		_validateContainerConfig();
	                
	                		_hydrateContainerConfig(_config);
	                
	                		// dictates whether we use the old logic or the new logic.
	                		_initContainerEvents();
	                	},
	                	/**
	                	 * Has the container been init?
	                	 * @method isInit
	                	 * @return {bool} True if the container has been init
	                	 */
	                	isInit: _isInit,
	                	/**
	                	 * Automatically load apps that are already defined in the DOM. Elements will
	                	 * be rendered into the location of the placeholder DOM element. Any AppHandlers
	                	 * that are defined will be bypassed.
	                	 * @method loadPlaceholders
	                	 * @param {Element} parentNode The element to search for placeholder apps
	                	 */
	                	loadPlaceholders: function (parentNode) {
	                		var self = this,
	                			elements = [],
	                			appConfigs = [],
	                			add = function (e) {
	                				if (!e) {
	                					return;
	                				}
	                				elements.push(e);
	                			},
	                			addAll = function (els) {
	                				if (!els) {
	                					return;
	                				}
	                				for (var i = 0, len = els.length; i &lt; len; i++) {
	                					add(els[i]);
	                				}
	                			};
	                
	                		if (!!parentNode &amp;&amp; !dom.isNativeNode(parentNode)) {
	                			throw &#x27;&quot;parentNode&quot; must be null or a DOM node&#x27;;
	                		}
	                
	                		// if the passed in element has a data-f2-appid attribute add
	                		// it to the list of elements but to not search within that
	                		// element for other placeholders
	                		if (parentNode &amp;&amp; parentNode.hasAttribute(&#x27;data-f2-appid&#x27;)) {
	                			add(parentNode);
	                		} else {
	                			// find placeholders within the parentNode only if
	                			// querySelectorAll exists
	                			parentNode = parentNode || document;
	                			if (parentNode.querySelectorAll) {
	                				addAll(parentNode.querySelectorAll(&#x27;[data-f2-appid]&#x27;));
	                			}
	                		}
	                
	                		for (var i = 0, len = elements.length; i &lt; len; i++) {
	                			var appConfig = _getAppConfigFromElement(elements[i]);
	                			appConfigs.push(appConfig);
	                		}
	                
	                		if (appConfigs.length) {
	                			self.registerApps(appConfigs);
	                		}
	                	},
	                	/**
	                	 * Begins the loading process for all apps and/or initialization process for pre-loaded apps.
	                	 * The app will be passed the {{#crossLink &quot;F2.AppConfig&quot;}}{{/crossLink}} object which will
	                	 * contain the app&#x27;s unique instanceId within the container. If the
	                	 * {{#crossLink &quot;F2.AppConfig&quot;}}{{/crossLink}}.root property is populated the app is considered
	                	 * to be a pre-loaded app and will be handled accordingly. Optionally, the
	                	 * {{#crossLink &quot;F2.AppManifest&quot;}}{{/crossLink}} can be passed in and those
	                	 * assets will be used instead of making a request.
	                	 * @method registerApps
	                	 * @param {Array} appConfigs An array of {{#crossLink &quot;F2.AppConfig&quot;}}{{/crossLink}}
	                	 * objects
	                	 * @param {Array} [appManifests] An array of
	                	 * {{#crossLink &quot;F2.AppManifest&quot;}}{{/crossLink}}
	                	 * objects. This array must be the same length as the apps array that is
	                	 * objects. This array must be the same length as the apps array that is
	                	 * passed in. This can be useful if apps are loaded on the server-side and
	                	 * passed down to the client.
	                	 * @example
	                	 * Traditional App requests.
	                	 *
	                	 *	// Traditional f2 app configs
	                	 *	var arConfigs = [
	                	 *		{
	                	 *			appId: &#x27;com_externaldomain_example_app&#x27;,
	                	 *			context: {},
	                	 *			manifestUrl: &#x27;http://www.externaldomain.com/F2/AppManifest&#x27;
	                	 *		},
	                	 *		{
	                	 *			appId: &#x27;com_externaldomain_example_app&#x27;,
	                	 *			context: {},
	                	 *			manifestUrl: &#x27;http://www.externaldomain.com/F2/AppManifest&#x27;
	                	 *		},
	                	 *		{
	                	 *			appId: &#x27;com_externaldomain_example_app2&#x27;,
	                	 *			context: {},
	                	 *			manifestUrl: &#x27;http://www.externaldomain.com/F2/AppManifest&#x27;
	                	 *		}
	                	 *	];
	                	 *
	                	 *	F2.init();
	                	 *	F2.registerApps(arConfigs);
	                	 *
	                	 * @example
	                	 * Pre-loaded and tradition apps mixed.
	                	 *
	                	 *	// Pre-loaded apps and traditional f2 app configs
	                	 *	// you can preload the same app multiple times as long as you have a unique root for each
	                	 *	var arConfigs = [
	                	 *		{
	                	 *			appId: &#x27;com_mydomain_example_app&#x27;,
	                	 *			context: {},
	                	 *			root: &#x27;div#example-app-1&#x27;,
	                	 *			manifestUrl: &#x27;&#x27;
	                	 *		},
	                	 *		{
	                	 *			appId: &#x27;com_mydomain_example_app&#x27;,
	                	 *			context: {},
	                	 *			root: &#x27;div#example-app-2&#x27;,
	                	 *			manifestUrl: &#x27;&#x27;
	                	 *		},
	                	 *		{
	                	 *			appId: &#x27;com_externaldomain_example_app&#x27;,
	                	 *			context: {},
	                	 *			manifestUrl: &#x27;http://www.externaldomain.com/F2/AppManifest&#x27;
	                	 *		}
	                	 *	];
	                	 *
	                	 *	F2.init();
	                	 *	F2.registerApps(arConfigs);
	                	 *
	                	 * @example
	                	 * Apps with predefined manifests.
	                	 *
	                	 *	// Traditional f2 app configs
	                	 *	var arConfigs = [
	                	 *		{appId: &#x27;com_externaldomain_example_app&#x27;, context: {}},
	                	 *		{appId: &#x27;com_externaldomain_example_app&#x27;, context: {}},
	                	 *		{appId: &#x27;com_externaldomain_example_app2&#x27;, context: {}}
	                	 *	];
	                	 *
	                	 *	// Pre requested manifest responses
	                	 *	var arManifests = [
	                	 *		{
	                	 *			apps: [&#x27;&lt;div&gt;Example App!&lt;/div&gt;&#x27;],
	                	 *			inlineScripts: [],
	                	 *			scripts: [&#x27;http://www.domain.com/js/AppClass.js&#x27;],
	                	 *			styles: [&#x27;http://www.domain.com/css/AppStyles.css&#x27;]
	                	 *		},
	                	 *		{
	                	 *			apps: [&#x27;&lt;div&gt;Example App!&lt;/div&gt;&#x27;],
	                	 *			inlineScripts: [],
	                	 *			scripts: [&#x27;http://www.domain.com/js/AppClass.js&#x27;],
	                	 *			styles: [&#x27;http://www.domain.com/css/AppStyles.css&#x27;]
	                	 *		},
	                	 *		{
	                	 *			apps: [&#x27;&lt;div&gt;Example App 2!&lt;/div&gt;&#x27;],
	                	 *			inlineScripts: [],
	                	 *			scripts: [&#x27;http://www.domain.com/js/App2Class.js&#x27;],
	                	 *			styles: [&#x27;http://www.domain.com/css/App2Styles.css&#x27;]
	                	 *		}
	                	 *	];
	                	 *
	                	 *	F2.init();
	                	 *	F2.registerApps(arConfigs, arManifests);
	                	 */
	                	registerApps: function (appConfigs, appManifests) {
	                		if (!_isInit()) {
	                			utils.log(&#x27;F2.init() must be called before F2.registerApps()&#x27;);
	                			return;
	                		} else if (!appConfigs) {
	                			utils.log(
	                				&#x27;At least one AppConfig must be passed when calling F2.registerApps()&#x27;
	                			);
	                			return;
	                		}
	                
	                		var self = this;
	                		var appStack = [];
	                		var batches = {};
	                		var callbackStack = {};
	                		var haveManifests = false;
	                		appConfigs = [].concat(appConfigs);
	                		appManifests = [].concat(appManifests || []);
	                		haveManifests = !!appManifests.length;
	                
	                		// appConfigs must have a length
	                		if (!appConfigs.length) {
	                			utils.log(
	                				&#x27;At least one AppConfig must be passed when calling F2.registerApps()&#x27;
	                			);
	                			return;
	                			// ensure that the array of apps and manifests are qual
	                		} else if (
	                			appConfigs.length &amp;&amp;
	                			haveManifests &amp;&amp;
	                			appConfigs.length != appManifests.length
	                		) {
	                			utils.log(
	                				&#x27;The length of &quot;apps&quot; does not equal the length of &quot;appManifests&quot;&#x27;
	                			);
	                			return;
	                		}
	                
	                		// validate each app and assign it an instanceId
	                		// then determine which apps can be batched together
	                		appConfigs.forEach(function (a, i) {
	                			// add properties and methods
	                			a = _createAppConfig(a);
	                
	                			// Will set to itself, for preloaded apps, or set to null for apps that aren&#x27;t already
	                			// on the page.
	                			a.root = a.root || null;
	                
	                			// we validate the app after setting the root property because pre-load apps do no require
	                			// manifest url
	                			if (!_validateApp(a)) {
	                				return; // move to the next app
	                			}
	                
	                			// save app
	                			_apps[a.instanceId] = {
	                				config: a
	                			};
	                
	                			// If the root property is defined then this app is considered to be preloaded and we will
	                			// run it through that logic.
	                			if (a.root &amp;&amp; !_isPlaceholderElement(a.root)) {
	                				if (!a.root &amp;&amp; typeof a.root != &#x27;string&#x27; &amp;&amp; !dom.isNativeNode(a.root)) {
	                					utils.log(
	                						&#x27;AppConfig invalid for pre-load, not a valid string and not dom node&#x27;
	                					);
	                					utils.log(&#x27;AppConfig instance:&#x27;, a);
	                					throw &#x27;Preloaded appConfig.root property must be a native dom node or a string representing a sizzle selector. Please check your inputs and try again.&#x27;;
	                				}
	                
	                				// instantiate F2.App
	                				_createAppInstance(a, {
	                					preloaded: true,
	                					status: constants.AppStatus.SUCCESS
	                				});
	                
	                				// Continue on in the .each loop, no need to continue because the app is on the page
	                				// the js in initialized, and it is ready to role.
	                				return; // equivalent to continue in .each
	                			}
	                
	                			if (!_isPlaceholderElement(a.root)) {
	                				appHandlers.__trigger(
	                					_sAppHandlerToken,
	                					constants.AppHandlers.APP_CREATE_ROOT,
	                					a // the app config
	                				);
	                
	                				appHandlers.__trigger(
	                					_sAppHandlerToken,
	                					constants.AppHandlers.APP_RENDER_BEFORE,
	                					a // the app config
	                				);
	                			}
	                
	                			// if we have the manifest, go ahead and load the app
	                			if (haveManifests) {
	                				_loadApps(a, appManifests[i]);
	                			} else {
	                				// check if this app can be batched
	                				if (a.enableBatchRequests) {
	                					batches[a.manifestUrl.toLowerCase()] =
	                						batches[a.manifestUrl.toLowerCase()] || [];
	                					batches[a.manifestUrl.toLowerCase()].push(a);
	                				} else {
	                					appStack.push({
	                						apps: [a],
	                						url: a.manifestUrl
	                					});
	                				}
	                			}
	                		});
	                
	                		// we don&#x27;t have the manifests, go ahead and load them
	                		if (!haveManifests) {
	                			// add the batches to the appStack
	                			for (var key in batches) {
	                				appStack.push({
	                					url: key,
	                					apps: batches[key]
	                				});
	                			}
	                
	                			// if an app is being loaded more than once on the page, there is the
	                			// potential that the jsonp callback will be clobbered if the request
	                			// for the AppManifest for the app comes back at the same time as
	                			// another request for the same app.  We&#x27;ll create a callbackStack
	                			// that will ensure that requests for the same app are loaded in order
	                			// rather than at the same time
	                			appStack.forEach(function (req) {
	                				// define the callback function based on the first app&#x27;s App ID
	                				var jsonpCallback = constants.JSONP_CALLBACK + req.apps[0].appId;
	                
	                				// push the request onto the callback stack
	                				callbackStack[jsonpCallback] = callbackStack[jsonpCallback] || [];
	                				callbackStack[jsonpCallback].push(req);
	                			});
	                
	                			// loop through each item in the callback stack and make the request
	                			// for the AppManifest. When the request is complete, pop the next
	                			// request off the stack and make the request.
	                			for (var i in callbackStack) {
	                				/*jshint loopfunc: true */
	                				var requests = callbackStack[i];
	                				var manifestRequest = function (jsonpCallback, req) {
	                					if (!req) {
	                						return;
	                					}
	                
	                					// setup defaults and callbacks
	                					var url = req.url,
	                						type = &#x27;GET&#x27;,
	                						dataType = &#x27;jsonp&#x27;,
	                						completeFunc = function () {
	                							manifestRequest(i, requests.pop());
	                						},
	                						errorFunc = function () {
	                							req.apps.forEach(function (item) {
	                								item.name = item.name || item.appId;
	                								utils.log(&#x27;Removed failed &#x27; + item.name + &#x27; app&#x27;, item);
	                								appHandlers.__trigger(
	                									_sAppHandlerToken,
	                									constants.AppHandlers.APP_MANIFEST_REQUEST_FAIL,
	                									item // the app config
	                								);
	                								self.removeApp(item.instanceId);
	                							});
	                						},
	                						successFunc = function (appManifest) {
	                							_loadApps(req.apps, appManifest);
	                						};
	                
	                					// optionally fire xhr overrides
	                					if (_config.xhr &amp;&amp; _config.xhr.dataType) {
	                						dataType = _config.xhr.dataType(req.url, req.apps);
	                						if (typeof dataType !== &#x27;string&#x27;) {
	                							throw &#x27;ContainerConfig.xhr.dataType should return a string&#x27;;
	                						}
	                					}
	                					if (_config.xhr &amp;&amp; _config.xhr.type) {
	                						type = _config.xhr.type(req.url, req.apps);
	                						if (typeof type !== &#x27;string&#x27;) {
	                							throw &#x27;ContainerConfig.xhr.type should return a string&#x27;;
	                						}
	                					}
	                					if (_config.xhr &amp;&amp; _config.xhr.url) {
	                						url = _config.xhr.url(req.url, req.apps);
	                						if (typeof url !== &#x27;string&#x27;) {
	                							throw &#x27;ContainerConfig.xhr.url should return a string&#x27;;
	                						}
	                					}
	                
	                					// setup the default request function if an override is not present
	                					var requestFunc = _config.xhr;
	                					if (typeof requestFunc !== &#x27;function&#x27;) {
	                						requestFunc = function (
	                							url,
	                							appConfigs,
	                							successCallback,
	                							errorCallback,
	                							completeCallback
	                						) {
	                							if (!window.fetch) {
	                								throw &#x27;Browser does not support the Fetch API.&#x27;;
	                							}
	                
	                							var fetchFunc,
	                								fetchUrl =
	                									url +
	                									&#x27;?params=&#x27; +
	                									utils.stringify(req.apps, utils.appConfigReplacer);
	                
	                							// Fetch API does not support the JSONP calls so making JSON calls using Fetch API and
	                							// JSONP call using fetch-jsonp package (https://www.npmjs.com/package/fetch-jsonp)
	                							if (dataType === &#x27;json&#x27;) {
	                								var fetchInputs = {
	                									method: type,
	                									mode: &#x27;no-cors&#x27;
	                								};
	                
	                								if (type === &#x27;POST&#x27;) {
	                									fetchUrl = url;
	                									fetchInputs.body = {
	                										params: utils.stringify(req.apps, utils.appConfigReplacer)
	                									};
	                								}
	                
	                								fetchFunc = fetch(fetchUrl, fetchInputs);
	                							} else if (dataType === &#x27;jsonp&#x27;) {
	                								fetchFunc = fetchJsonp(fetchUrl, {
	                									timeout: 3000,
	                									jsonpCallbackFunction: jsonpCallback
	                								});
	                							}
	                
	                							fetchFunc
	                								.then(function (response) {
	                									return response.json();
	                								})
	                								.then(function (data) {
	                									successCallback(data);
	                									completeCallback();
	                								})
	                								.catch(function (error) {
	                									utils.log(&#x27;Failed to load app(s)&#x27;, error, req.apps);
	                									errorCallback();
	                								});
	                						};
	                					}
	                
	                					requestFunc(url, req.apps, successFunc, errorFunc, completeFunc);
	                				};
	                
	                				manifestRequest(i, requests.pop());
	                			}
	                		}
	                	},
	                	/**
	                	 * Removes all apps from the container
	                	 * @method removeAllApps
	                	 */
	                	removeAllApps: function () {
	                		var self = this;
	                
	                		if (!_isInit()) {
	                			utils.log(&#x27;F2.init() must be called before F2.removeAllApps()&#x27;);
	                			return;
	                		}
	                
	                		if (Object.keys(_apps).length &gt; 0) {
	                			Object.keys(_apps).forEach(function (key) {
	                				self.removeApp(_apps[key].config.instanceId);
	                			});
	                		}
	                	},
	                	/**
	                	 * Removes an app from the container
	                	 * @method removeApp
	                	 * @param {string} instanceId The app&#x27;s instanceId
	                	 */
	                	removeApp: function (instanceId) {
	                		if (!_isInit()) {
	                			utils.log(&#x27;F2.init() must be called before F2.removeApp()&#x27;);
	                			return;
	                		}
	                
	                		if (_apps[instanceId]) {
	                			appHandlers.__trigger(
	                				_sAppHandlerToken,
	                				constants.AppHandlers.APP_DESTROY_BEFORE,
	                				_apps[instanceId] // the app instance
	                			);
	                
	                			appHandlers.__trigger(
	                				_sAppHandlerToken,
	                				constants.AppHandlers.APP_DESTROY,
	                				_apps[instanceId] // the app instance
	                			);
	                
	                			appHandlers.__trigger(
	                				_sAppHandlerToken,
	                				constants.AppHandlers.APP_DESTROY_AFTER,
	                				_apps[instanceId] // the app instance
	                			);
	                
	                			delete _apps[instanceId];
	                		}
	                	}
	                };
	                
	                		</code></pre>
	                </div>	            </div>
	        </div>
	    </div>
      </div>
    </div>
  </section>
</div>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-4 col-lg-6">
        <h1 class="hidden-sm hidden-md hidden-lg">F2</h1>
        <p class="hidden-sm hidden-md hidden-lg">An open & free framework created for building financial applications.</p>
        <div class="deepFooter hidden-xs hidden-sm">
          <p>Enabling smarter financial applications</p>
          <p>F2 is governed by its Advisory Board, and maintained by <a href="http://www.markit.com/product/markit-on-demand">Markit On Demand</a> on GitHub. F2 is licensed under the Apache 2.0 License.</p>
        </div>
        <ul class="nav navbar-nav hidden-sm hidden-md hidden-lg list">
          <li><a href="https://openf2.github.io/F2">Docs</a></li>
          <li><a href="https://github.com/OpenF2/F2">GitHub</a></li>
        </ul>
      </div>
      <div class="col-sm-12 col-md-8 col-lg-6 hidden-xs">
        <ul class="footer-nav iconlist list-inline">
          <li class="version"><a href="https://github.com/OpenF2/F2" title="F2 on GitHub" class="hexagon"><i class="fa fa-github fa-2x"></i></a>
            <div class="hidden-xs hidden-sm"><a href="https://github.com/OpenF2/F2">
                <h5>View on GitHub</h5>
                <p>Current Version&nbsp;<span>2.0.0</span><br/>Released&nbsp;<span></span>
                </p></a></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="row deepFooter">
      <div class="col-xs-12 hidden-md hidden-lg">
        <p>Enabling smarter financial applications</p>
        <p>F2 is maintained by <a href="https://www.markitdigital.com/">IHS Markit Digital</a> on GitHub. F2 is licensed under the Apache 2.0 License.</p>
      </div>
    </div>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<!-- <script src="js/docs.js" type="text/javascript"></script>
<script type="text/javascript">new F2Docs().initialize();</script>-->
<script>
  window.prettyPrint && prettyPrint();

	//docs
	var current = location.pathname.split('/').pop();
	$('a','ul.sidebar-toc').each(function(i,el){
		var $el = $(el);
		if (current.length && $el.attr('href').indexOf(current) > -1){
			$el.parent().addClass('active');
		}
	});
</script>
</body>
</html>
