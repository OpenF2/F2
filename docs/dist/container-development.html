<!DOCTYPE html>
<html>
<head>
  <title>Container Development</title>

<title>F2 {{title}} - Open Financial Framework</title>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="description" content="F2 is an open and free web integration framework designed to help you and other financial industry participants develop custom solutions that combine the best tools and content from multiple providers into one, privately-labeled, seamlessly integrated front-end."/>
<meta name="viewport" content="width=device-width initial-scale=1.0"/>
<link rel="stylesheet" href="//localhost:8201/css/site.css"/>
<link rel="shortcut icon" href="//staging.openf2.org/2.1.0/img/favicon.ico" type="image/x-icon"/>
<meta name="apple-mobile-web-app-title" content="F2"/>
<link rel="apple-touch-icon" href="//staging.openf2.org/2.1.0/img/apple-touch-icon.png"/>
<link rel="apple-touch-icon" sizes="57x57" href="//staging.openf2.org/2.1.0/img/apple-touch-icon-57x57.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="//staging.openf2.org/2.1.0/img/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="//staging.openf2.org/2.1.0/img/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="//staging.openf2.org/2.1.0/img/apple-touch-icon-144x144.png"/>
<link rel="apple-touch-icon" sizes="57x57" href="//staging.openf2.org/2.1.0/img/apple-touch-icon-60x60.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="//staging.openf2.org/2.1.0/img/apple-touch-icon-120x120.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="//staging.openf2.org/2.1.0/img/apple-touch-icon-76x76.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="//staging.openf2.org/2.1.0/img/apple-touch-icon-152x152.png"/>
<meta name="msapplication-square70x70logo" content="//staging.openf2.org/2.1.0/img/smalltile.png"/>
<meta name="msapplication-square150x150logo" content="//staging.openf2.org/2.1.0/img/mediumtile.png"/>
<meta name="msapplication-wide310x150logo" content="//staging.openf2.org/2.1.0/img/widetile.png"/>
<meta name="msapplication-square310x310logo" content="//staging.openf2.org/2.1.0/img/largetile.png"/><!--[if lt IE 9]>
<script src="//staging.openf2.org/2.1.0/js/thirdparty/polyfills/es5.js"></script><![endif]-->
<!--[if lt IE 9]>
<script src="//staging.openf2.org/2.1.0/js/thirdparty/respond.min.js"></script><![endif]-->
<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
<style>
  .pageContent {
    margin-top: 20px;
  }
  .breadcrumb {
    font-size: 15px;
  }
  .breadcrumb a {
    color: #3183bd;
  }
  .breadcrumb .dropdown-menu {
    font-size: 15px;
  }
</style>
</head>
<body data-spy="scroll" data-target="#toc" data-offset="0">

<div role="navigation" class="navbar navbar-inverse navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" data-toggle="collapse" data-target="#f2navbarcollapse" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" title="Home" class="navbar-brand">F2</a>
    </div>
    <div id="f2navbarcollapse" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li><a href="//staging.openf2.org/">About</a>
        </li>
        <li><a href="//staging.openf2.org/examples">Examples</a>
        </li>
        <li><a href="//staging.openf2.org/developers">Developers</a>
        </li>
        <li><a href="//blog.openf2.org">Blog</a>
        </li>
        <li><a href="https://github.com/OpenF2/F2">GitHub</a></li>
      </ul>
    </div>
  </div>
</div>
<div class="docs">
  <section class="container pageContent">
    <div class="row">
      <div class="col-sm-12">
        <ol class="breadcrumb">
          <li class="hidden-xs"><a href="http://staging.openf2.org">Home</a></li>
          <li><a href="http://staging.openf2.org/developers">Developers</a></li>
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" href="#">Docs<span class="hidden-xs">&nbsp;v1.4.0</span>&nbsp;<span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              <li class="active"><a href="container-development.html">Container Development</a></li>
              <li><a href="app-development.html">App Development</a></li>
              <li><a href="extending-f2.html">Extend F2</a></li>
              <li><a href="./sdk">F2.js API Reference</a></li>
              <li class="divider"></li>
              <li><a href="https://github.com/OpenF2/F2/issues/new?title=Feedback+for:+Container%20Development" id="feedbackLink" target="_blank">Submit Feedback</a></li>
              <li><a href="https://github.com/OpenF2/F2/blob/master/docs/src/container-development.md" id="viewSourceLink" target="_blank">View Source</a></li>
              <li class="divider"></li>
              <li><a href="https://github.com/OpenF2/F2/releases" target="_blank">Other versions</a></li>
            </ul>
          </li>
          <li class="active">Container Development</li>
        </ol>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3 sidebar-nav" id="toc">
        <div class="navs">
          <ul class="nav nav-stacked">
            <li><a href="container-development.html">Container Development</a></li>
          </ul>

          <ul class="nav nav-stacked" style="margin-top:20px;">
            <li><a href="">Sections</a></li>
            <li class="active"><a href="container-development.html">Container Development</a></li>
            <li><a href="app-development.html">App Development</a></li>
            <li><a href="extending-f2.html">Extending F2</a></li>
            <li><a href="">F2.js</a></li>
            <li><a href="">F2.js Reference</a></li>
          </ul>
        </div>
      </div>
      <div class="col-sm-9" id="docs">
        <h1 class="page-header">Container Development</h1>
        <p class="lead">
The container is the foundation of any F2-enabled solution. By leveraging the <a href="f2js-sdk.html">F2.js SDK</a>, Container Providers offer a consistent and reliable mechanism for all App Developers to load their apps on that container regardless of where it is hosted, who developed it, or what back-end stack it uses. You can <a href="index.html#framework">read more about the framework</a>, <a href="https://github.com/OpenF2/F2#quick-start">download the project on GitHub</a> or <a href="#get-started">get started</a> below. The latest version of F2 is 1.4.0.
</p>

<hr>
<h2 class="link-header"><a id="version-2" class="anchor" href="#version-2"><span class="fa fa-link"></span></a>Version 2</h2><div class="alert alert-block alert-info">
    The F2 Team is working on a major revision to the F2 framework. Visit the project on GitHub to review the <a href="https://github.com/OpenF2/F2/wiki/F2-Version-2">revisions draft</a>, <a href="https://github.com/OpenF2/F2/tree/v2-restructured">the F2.js code</a> and <a href="https://github.com/OpenF2/F2/issues?labels=v2&amp;page=1&amp;state=open">v2 Issues</a>.
</div>

<h2 class="link-header"><a id="get-started" class="anchor" href="#get-started"><span class="fa fa-link"></span></a>Get Started</h2><p>To help you get started building an F2 container, review the documentation and examples below. To jump start your F2 container or app development, download the F2 example container and apps.</p>
<p><a href="http://docs.openf2.org/F2-examples.zip" class="btn btn-primary btn-small">Download F2 Examples</a></p>

<h3 class="link-header"><a id="basic-container" class="anchor" href="#basic-container"><span class="fa fa-link"></span></a>Basic Container</h3><p>To begin, you <strong>do not</strong> need to build (or compile) F2 <a href="https://github.com/OpenF2/F2#build-f2">as described in the readme on GitHub</a>. Simply download <a href="f2js-sdk.html">F2.js</a> and <a href="http://twitter.github.io/bootstrap/index.html">Bootstrap</a>, and ensure you’re <a href="#configuration">properly configured</a> for continuing with the documentation.</p>
<p><a href="https://raw.github.com/OpenF2/F2/master/F2.latest.js" class="btn btn-small">Download F2.js</a> <a href="http://twitter.github.io/bootstrap/getting-started.html#download-bootstrap" class="btn btn-small">Download Bootstrap</a></p>

<p>Setup a basic container HTML template (or add F2.js to an existing website):</p>
<pre><code class="lang-html"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>F2 Container<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"/path/to/your/bootstrap.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"/path/to/your/F2.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<p><span class="label label-info">Note</span> In developing a more advanced container, the HTML document’s <code>body</code> element would contain additional markup and allow for <a href="#apphandlers-for-app-layout">specific positioning or placement of apps</a>. Additionally, more advanced containers could introduce features and functionality to their apps in the form of authentication APIs, streaming data feeds, federated search, etc. All containers must follow the <a href="#container-design">F2 design guidelines</a>.</p>
<h3 class="link-header"><a id="basic-appconfig" class="anchor" href="#basic-appconfig"><span class="fa fa-link"></span></a>Basic AppConfig</h3><pre><code class="lang-javascript"><span class="hljs-keyword">var</span> _appConfig = {
    appId: <span class="hljs-string">'com_openf2_examples_javascript_helloworld'</span>,
    manifestUrl: <span class="hljs-string">'http://docs.openf2.org/demos/apps/JavaScript/HelloWorld/manifest.js'</span>
};

$(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    F2.init();
    F2.registerApps(_appConfig);
});
</code></pre>
<p><span class="label label-info">Note</span> For more information about the <code>AppConfig</code>, <a href="#appconfigs">read up on them</a> in App Integration.</p>
<h3 class="link-header"><a id="testing-the-basics" class="anchor" href="#testing-the-basics"><span class="fa fa-link"></span></a>Testing the Basics</h3><p>Now with a basic container and a basic app, combine these two for a working example. Press <strong>Result</strong> in this jsfiddle.</p>
<iframe width="100%" height="300" src="http://jsfiddle.net/OpenF2js/RTXg3/2/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>In getting to this point, you’ve only scratched the surface of F2 containers and apps. Continue reading and understanding the F2 spec to build exactly the financial solutions that our customers want.</p>
<h3 class="link-header"><a id="sample-apps-and-container" class="anchor" href="#sample-apps-and-container"><span class="fa fa-link"></span></a>Sample Apps and Container</h3><p>Good news! In the <a href="https://github.com/OpenF2/F2/tree/master/examples/">project repo on GitHub</a>, you will find a basic container along with a number of sample apps which demonstrate functionality far beyond the basic app above. Once you clone or download the project repository, open the sample container by pointing your browser at:</p>
<p><code>http://localhost/F2/examples/</code></p>
<p>These examples are also available in a separate archive if you don’t want to download the entire repository. </p>
<p><a href="http://docs.openf2.org/F2-examples.zip" class="btn btn-primary btn-small">Download F2 Examples</a></p>

<h3 class="link-header"><a id="configuration" class="anchor" href="#configuration"><span class="fa fa-link"></span></a>Configuration</h3><p>It is assumed you will be developing an F2 container locally and have a <code>localhost</code> setup. The URLs mentioned in this specification also assume you have configured your F2 container to run at <code>http://localhost/F2/</code>. The examples provided as part of the project repository demonstrate apps written in different languages (PHP, JavaScript, C#). While it is not a requirement you have a web server configured on your computer, it will certainly allow you to more deeply explore the sample apps.</p>
<p>To better understand F2 and the role of containers, you need to understand the role of apps. If you haven’t already, <a href="index.html#framework">read more about apps in the Framework</a>. </p>
<p>To get started working with or developing apps, browse to the <a href="app-development.html">documentation for developing apps</a>.</p>
<p><strong>Ready to start coding?</strong> </p>
<p><a href="#developing-f2-containers" class="btn btn-primary btn-small">Developing F2 Containers</a> <a href="./sdk/" class="btn btn-small">F2.js SDK Reference</a></p>

<hr>
<h2 class="link-header"><a id="container-design" class="anchor" href="#container-design"><span class="fa fa-link"></span></a>Container Design</h2><p>Design considerations are an important first step when creating a new container. Content can range from news to research to multimedia, and content should be presented using <a href="(http://www.alistapart.com/articles/understandingprogressiveenhancement/">Progressive Enhancement</a>, <a href="http://www.lukew.com/presos/preso.asp?26">Mobile First</a> and <a href="http://www.abookapart.com/products/responsive-web-design">Responsive Design</a> methodologies. That is to say multimedia content, for example, should be shown plugin-free (using HTML5 video or audio elements) for capable browsers and fallback to Flash-based players for browsers that do not yet support HTML5 related technologies. (<a href="http://videojs.com/">VideoJS</a> is good example of open-source JavaScript and CSS “that makes it easier to work with and build on HTML5 video, today.”)</p>
<p>If App Developers embed URLs back to their own websites or to third party sites, URLs must be opened in a new window as to not interrupt the experience of someone using the container. If authentication is required on an App Developer’s site, this can be accomplished with pass-through authentication using encrypted URLs as discussed in <a href="#single-sign-on">Single Sign On</a>.</p>
<h3 class="link-header"><a id="choices" class="anchor" href="#choices"><span class="fa fa-link"></span></a>Choices</h3><p>In order to ensure that containers built using F2 are successful, they must be accessible. As such, F2 made choices for which open-source libraries and frameworks would be leveraged to reduce the level of effort across F2 adopters. </p>
<p><a href="index.html#choices">Read more about those choices in the Framework</a>.</p>
<p>Ultimately, the responsibility of app design falls on either the Container or App Developer or both. In many cases, Container Developers will provide App Developers will visual designs, style guides or other assets required to ensure apps have the form and function for a given container. Container Developers may also <a href="index.html#creating-a-common-look-and-feel">provide CSS for App Developers</a> to adhere to&mdash;which should be easy since F2 enforces a <a href="app-development.html#automatic-consistency">consistent HTML structure across all containers and apps</a>. In other cases, Container and App Developers may never know each other and it’s important everyone strictly adheres to the guidelines set forth in this documentation.</p>
<hr>
<h2 class="link-header"><a id="developing-f2-containers" class="anchor" href="#developing-f2-containers"><span class="fa fa-link"></span></a>Developing F2 Containers</h2><p>A container is a browser-based web application which brings F2 apps together onto a seamless user interface. It can also provide data and user context to its apps in the form of request-response web services or streaming data feeds.</p>
<h3 class="link-header"><a id="including-the-f2-sdk" class="anchor" href="#including-the-f2-sdk"><span class="fa fa-link"></span></a>Including the F2 SDK</h3><p>For a webpage to be considered an F2 container, it must first include the <a href="f2js-sdk.html">F2.js JavaScript SDK</a>. This is as simple as <a href="f2js-sdk.html#download">downloading the F2 project from GitHub</a> and adding a <code>script</code> tag to the page. </p>
<pre><code class="lang-javascript">&lt;script src=<span class="hljs-string">"/path/to/your/f2.js"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span>
</code></pre>
<p>You will find a basic container in the <a href="https://github.com/OpenF2/F2/tree/master/examples/">project repo on GitHub</a> along with a number of sample apps. Once the script tag has been added, it is up to the Container Developer to configure and customize the container. The first step is getting a ContainerID.</p>
<h3 class="link-header"><a id="f2-containerid" class="anchor" href="#f2-containerid"><span class="fa fa-link"></span></a>F2 ContainerID</h3><p>To develop a production F2 container, you need a unique identifier called a ContainerID. This ContainerID will be unique to <em>your container</em> across the entire open financial framework ecosystem. The format of the ContainerID looks like this: <code>com_container_companyName_containerName</code>, where the <code>companyName</code> “namespace” is your company name and <code>containerName</code> is the name of your container.</p>
<p>As an example, your ContainerID could look like this:</p>
<p><code>com_container_acmecorp_watchlist</code></p>
<p>If you built more than one container while working at Acme Corporation, you could create more ContainerIDs. All of these are valid:</p>
<ul>
<li><code>com_container_acmecorp_activetrader</code></li>
<li><code>com_container_acmecorp_retail</code></li>
<li><code>com_container_acmecorp_mobilestreamer</code></li>
</ul>
<p>To guarantee uniqueness, we will provide a ContainerID generation service that allows customization of your ContainerID in the <a href="index.html#developer-center">Developer Center</a>.</p>
<h3 class="link-header"><a id="setting-up-your-project" class="anchor" href="#setting-up-your-project"><span class="fa fa-link"></span></a>Setting Up Your Project</h3><p>Once you have your ContainerID, start by setting up your container project. You will need at least one configuration in addition to an HTML page: the app configs. (In the GitHub repository, <a href="https://github.com/OpenF2/F2/blob/master/examples/container/js/sampleApps.js">an example</a> is found in <code>/examples/container/js/sampleApps.js</code>.) This doesn’t need to be a static javascript file like <code>sampleApps.js</code> but the structure and format of the app configs is important.</p>
<h3 class="link-header"><a id="container-config" class="anchor" href="#container-config"><span class="fa fa-link"></span></a>Container Config</h3><p>The <a href="f2js-sdk.html">F2.js JavaScript SDK</a> provides an API for providers to configure their containers. Every container must be setup using <code>ContainerConfig</code> and the <a href="./sdk/classes/F2.ContainerConfig.html">methods available</a>, however if the F2 defaults are acceptable, the <code>ContainerConfig</code> is not required.</p>
<p>To initialize a container <em>using F2 defaults</em>, call this function:</p>
<pre><code class="lang-javascript">F2.init();
</code></pre>
<p>To initialize a container with a <code>ContainerConfig</code>, use:</p>
<pre><code class="lang-javascript">F2.init({
    UI: {},
    xhr: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{},
    supportedViews: []
});
</code></pre>
<p>Review all of the <code>ContainerConfig</code> properties in the <a href="./sdk/classes/F2.ContainerConfig.html">reference documentation</a>. </p>
<p>To see a more detailed example of <code>F2.init()</code>, <a href="https://github.com/OpenF2/F2/blob/master/examples/container/js/container.js">look at the sample container javascript</a> in the F2 repo on GitHub.</p>
<h4 class="link-header"><a id="debug-mode" class="anchor" href="#debug-mode"><span class="fa fa-link"></span></a>Debug Mode</h4><p>To enable debug mode in a container, use the following <a href="./sdk/classes/F2.ContainerConfig.html">property</a> in <code>F2.init()</code>. Setting <code>debugMode: true</code> adds additional logging, resource cache busting, etc. For obvious reasons, this property should only be used in a development environment.</p>
<pre><code class="lang-javascript">F2.init({
   debugMode: <span class="hljs-literal">true</span> 
});
</code></pre>
<h4 class="link-header"><a id="apprender-beforeapprender-afterapprender" class="anchor" href="#apprender-beforeapprender-afterapprender"><span class="fa fa-link"></span></a>AppRender, BeforeAppRender, AfterAppRender</h4><p>The <code>appRender()</code>, <code>beforeAppRender()</code>, and <code>afterAppRender()</code> methods were deprecated in F2 version 1.2 in favor of <a href="#apphandlers-for-app-layout"><code>F2.AppHandlers</code></a>. Upgrading to F2 1.2 will not break existing containers using any of these methods as they are still present in the SDK.</p>
<p>For more information, see <a href="#apphandlers-for-app-layout">AppHandlers for App Layout</a>.</p>
<h4 class="link-header"><a id="internationalization" class="anchor" href="#internationalization"><span class="fa fa-link"></span></a>Internationalization</h4><p>To configure internationalization, or “<a href="http://en.wikipedia.org/wiki/Internationalization_and_localization">i18n</a>“, in an application the region and language can be set on the <code>ContainerConfig</code>. This “locale” information is shared with all Apps using <a href="http://en.wikipedia.org/wiki/IETF_language_tag">IETF-defined standard language tags</a>.</p>
<p>Configuration of current region and language using the <code>locale</code>:</p>
<pre><code class="lang-javascript">F2.init({
    locale: <span class="hljs-string">'en-us'</span>
});
</code></pre>
<p><span class="label label-important">Important</span> Providing a <code>locale</code> config is only a means of communicating localization information in the container. F2 does not perform translations, number formatting or other localization modifications to Containers or Apps.</p>
<h5 class="link-header"><a id="changing-the-locale" class="anchor" href="#changing-the-locale"><span class="fa fa-link"></span></a>Changing the Locale</h5><p>Container Providers can change the current locale using <a href="./sdk/classes/F2.Events.html">F2.Events</a>. There is an event constant available for changing the locale called <code>CONTAINER_LOCALE_CHANGE</code>. </p>
<p>Here is an example of triggering the locale change event:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> currentLocale = F2.getContainerLocale(); <span class="hljs-comment">//en-us</span>

<span class="hljs-comment">//emit F2 event with new locale</span>
F2.Events.emit(F2.Constants.Events.CONTAINER_LOCALE_CHANGE,{
    locale: <span class="hljs-string">'en-gb'</span>
});

<span class="hljs-comment">//get newly-updated locale</span>
currentLocale = F2.getContainerLocale(); <span class="hljs-comment">//en-gb</span>
</code></pre>
<h5 class="link-header"><a id="how-do-apps-understand-locale-" class="anchor" href="#how-do-apps-understand-locale-"><span class="fa fa-link"></span></a>How Do Apps Understand Locale?</h5><p>There is a parameter sent to each <code>AppManifest</code> request during <code>F2.registerApps</code> called <code>containerLocale</code>. Apps can also call <code>F2.getContainerLocale()</code> to access the current locale of the container.</p>
<p>Here is an example of the two ways of getting the container locale inside an AppClass.</p>
<pre><code class="lang-javascript">F2.Apps[<span class="hljs-string">"com_companyname_appname"</span>] = (<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> App_Class = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig, appContent, root)</span> </span>{
        <span class="hljs-comment">// "containerLocale" is added to the AppConfig </span>
        <span class="hljs-comment">// during F2.registerApps</span>
        <span class="hljs-built_in">console</span>.log(appConfig.containerLocale);<span class="hljs-comment">//en-us</span>
    }

    App_Class.prototype.init = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// get locale using helper function</span>
        <span class="hljs-comment">// if locale changes, this function will</span>
        <span class="hljs-comment">// always return the current locale</span>
        <span class="hljs-built_in">console</span>.log(F2.getContainerLocale());<span class="hljs-comment">//en-us</span>
    }

    <span class="hljs-keyword">return</span> App_Class;
})();
</code></pre>
<p><span class="label label-info">Note</span> For more detail on the <code>containerLocale</code> property, browse to the SDK for <a href="./sdk/classes/F2.AppConfig.html#properties-containerLocale">F2.AppConfig</a>.</p>
<h5 class="link-header"><a id="which-apps-support-a-locale-" class="anchor" href="#which-apps-support-a-locale-"><span class="fa fa-link"></span></a>Which Apps Support a Locale?</h5><p>The F2 <code>AppConfig</code> has a <code>localeSupport</code> property (type Array) so each App can define the region and language combinations it supports. Container code could be written to inspect the <code>localeSupport</code> property of any apps before registering them.</p>
<p>Sample <code>AppConfig</code> showing the <code>localeSupport</code> property:</p>
<pre><code class="lang-javascript">{
    <span class="hljs-string">"appId"</span>: <span class="hljs-string">"com_companyName_appName"</span>,
    <span class="hljs-string">"manifestUrl"</span>: <span class="hljs-string">"http://www.domain.com/manifest.js"</span>
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"App Name"</span>,
    <span class="hljs-string">"views"</span>: [<span class="hljs-string">"home"</span>, <span class="hljs-string">"settings"</span>, <span class="hljs-string">"about"</span>],
    <span class="hljs-string">"minGridSize"</span>: <span class="hljs-number">4</span>,
    <span class="hljs-string">"localeSupport"</span>: [<span class="hljs-string">"en-us"</span>,<span class="hljs-string">"en-gb"</span>] <span class="hljs-comment">//array of IETF-defined tags</span>
},
</code></pre>
<p><span class="label label-info">Note</span> For more detail on the <code>localeSupport</code> property, browse to the SDK for <a href="./sdk/classes/F2.AppConfig.html#properties-localeSupport">F2.AppConfig</a>.</p>
<h4 class="link-header"><a id="setting-up-a-loading-gif" class="anchor" href="#setting-up-a-loading-gif"><span class="fa fa-link"></span></a>Setting Up a Loading GIF</h4><p>Container Developers have the opportunity to customize some user interface (UI) elements which propagate to the App Developers’ toolkit in F2.js. One of those is <code>F2.UI.Mask</code>. The <code>Mask</code> object contains configuration defaults for the <code>F2.UI.showMask()</code> and <code>F2.UI.hideMask()</code> methods.</p>
<p>An example of setting the mask in <code>F2.init()</code>:</p>
<pre><code class="lang-javascript">F2.init({
    UI:{
        Mask:{
            loadingIcon:<span class="hljs-string">'./img/spinner.gif'</span>,
            backgroundColor: <span class="hljs-string">'#fff'</span>,
            opacity: <span class="hljs-number">0.5</span>
        }
    }
});
</code></pre>
<p>Included in the <code>F2.UI.Mask</code> configuration object are the following properties: <code>backgroundColor</code>, <code>loadingIcon</code>, <code>opacity</code>, <code>useClasses</code>, and <code>zIndex</code>. Each of these <code>F2.UI.Mask</code> properties is detailed in <a href="./sdk/classes/F2.ContainerConfig.UI.Mask.html">the F2.js SDK docs</a>.</p>
<p>For more information on <code>F2.UI</code>, <a href="./sdk/classes/F2.UI.html">browse to the F2.js SDK docs</a>.</p>
<h4 class="link-header"><a id="override-the-appmanifest-request" class="anchor" href="#override-the-appmanifest-request"><span class="fa fa-link"></span></a>Override the AppManifest Request</h4><p>Occasionally Container Developers need more granular control over the <code>AppManifest</code> request mechanism in F2.js. The <a href="./sdk/classes/F2.html#methods-registerApps">manifest request process</a>&mdash;intentionally obscured from developers through the <code>F2.registerApps()</code> API&mdash;is handled by a simple ajax call to an HTTP endpoint. (F2 relies on <code>jQuery.ajax()</code> for this.)  In version 1.4.0 of F2, the <code>AppManifest</code> request can be overridden in the Container Config. </p>
<p><span class="label label-info">Note</span> The <code>AppManifest</code> endpoint is configured in the <code>manifestUrl</code> property within each <a href="#appconfigs"><code>AppConfig</code></a>.</p>
<p>The following example demonstrates how the <code>xhr</code> property of the <code>ContainerConfig</code> is used to override F2.js.</p>
<pre><code class="lang-javascript">F2.init({
    xhr: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(url, appConfigs, success, error, complete)</span> </span>{
        $.ajax({
            url: url,
            type: <span class="hljs-string">'POST'</span>,
            data: {
                params: F2.stringify(appConfigs, F2.appConfigReplacer)
            },
            jsonp: <span class="hljs-literal">false</span>, <span class="hljs-comment">// do not put 'callback=' in the query string</span>
            jsonpCallback: F2.Constants.JSONP_CALLBACK + appConfigs[<span class="hljs-number">0</span>].appId, <span class="hljs-comment">// Unique function name</span>
            dataType: <span class="hljs-string">'json'</span>,
            success: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appManifest)</span> </span>{
                <span class="hljs-comment">// custom success logic</span>
                success(appManifest); <span class="hljs-comment">// fire success callback</span>
            },
            error: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                <span class="hljs-comment">// custom error logic</span>
                error(); <span class="hljs-comment">// fire error callback</span>
            },
            complete: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                <span class="hljs-comment">// custom complete logic</span>
                complete(); <span class="hljs-comment">// fire complete callback</span>
            }
        });
    }
});
</code></pre>
<h4 class="link-header"><a id="extending-xhr" class="anchor" href="#extending-xhr"><span class="fa fa-link"></span></a>Extending XHR</h4><p>The <code>F2.ContainerConfig.xhr</code> property has two additional customizable properties available: <code>dataType</code> and <code>type</code>. </p>
<h5 class="link-header"><a id="datatype" class="anchor" href="#datatype"><span class="fa fa-link"></span></a>DataType</h5><p>The <code>dataType</code> property allows the container to override the request data type (JSON or JSONP) that is used for the request. Using JSON as a <code>dataType</code> is only available for F2 apps running on the same domain as the container.</p>
<pre><code class="lang-javascript">F2.init({
    xhr: {
        dataType: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(url)</span> </span>{
            <span class="hljs-keyword">return</span> F2.isLocalRequest(url) ? <span class="hljs-string">'json'</span> : <span class="hljs-string">'jsonp'</span>;
        }
    }
});
</code></pre>
<h5 class="link-header"><a id="type" class="anchor" href="#type"><span class="fa fa-link"></span></a>Type</h5><p>The <code>type</code> property allows the container to override the request method that is used (similar to the <a href="http://api.jquery.com/jQuery.ajax/">type parameter to jQuery.ajax()</a>). Since HTTP POST is not supported on JSONP requests, using POST as a <code>type</code> is only available for F2 apps using JSON and are therefore running on the same base domain as the container.</p>
<pre><code class="lang-javascript">F2.init({
    xhr: {
        type: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(url)</span> </span>{
            <span class="hljs-keyword">return</span> F2.isLocalRequest(url) ? <span class="hljs-string">'POST'</span> : <span class="hljs-string">'GET'</span>;
        }
    }
});
</code></pre>
<p>For more information on <code>F2.ContainerConfig.xhr</code>, <a href="./sdk/classes/F2.ContainerConfig.html">browse to the F2.js SDK docs</a>.</p>
<h4 class="link-header"><a id="override-the-request-for-app-dependencies" class="anchor" href="#override-the-request-for-app-dependencies"><span class="fa fa-link"></span></a>Override the Request for App Dependencies</h4><p>Occasionally Container Developers need more granular control over the request mechanism in F2.js for <code>AppManifest</code>-defined dependencies. The current dependency request process is handled by the straightforward <code>createElement(&#39;script&#39;)</code> and <code>createStyleSheet()</code> statements for scripts and styles, respectively. In version 1.4.0 of F2, the app dependency request can be overridden in the <a href="./sdk/classes/F2.ContainerConfig.html"><code>ContainerConfig</code></a>.</p>
<h5 class="link-header"><a id="override-the-script-loader" class="anchor" href="#override-the-script-loader"><span class="fa fa-link"></span></a>Override the Script Loader</h5><p>As defined in the <code>AppManifest</code>, each F2 App can have script file dependencies. These are <a href="app-development.html#app-manifest">defined as URLs</a> in the <code>AppManifest.scripts</code> property (type array). The script loader can be replaced with any script loading mechanism such as those found in <a href="http://requirejs.org/">RequireJS</a>, <a href="http://jquery.com">jQuery</a> or <a href="http://headjs.com/">HeadJS</a>.</p>
<p>To override the script loader, assign a function to <code>loadScripts</code> in <code>F2.init</code> as shown below. The function is passed <code>scripts</code> (array) and <code>callback</code> (function) which needs to be called when all scripts have been loaded.</p>
<pre><code class="lang-javascript">F2.init({
    loadScripts: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(scripts,callback)</span></span>{
        <span class="hljs-comment">//perform script loading</span>
        callback();
    }
});
</code></pre>
<p>The following example demonstrates using <a href="http://headjs.com/site/api/v1.00.html#load">HeadJS</a> to load script dependencies:</p>
<pre><code class="lang-javascript">F2.init({
    loadScripts: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(scripts,callback)</span></span>{
        head.load(scripts, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
            callback();
        });
    }
});
</code></pre>
<p><span class="label label-important">Important</span> The <code>callback</code> function must be executed on completion of the script loading so F2 can continue registering apps.</p>
<h5 class="link-header"><a id="override-the-stylesheet-loader" class="anchor" href="#override-the-stylesheet-loader"><span class="fa fa-link"></span></a>Override the Stylesheet Loader</h5><p>As defined in the <code>AppManifest</code>, each F2 App can have stylesheet file dependencies. These are <a href="app-development.html#app-manifest">defined as URLs</a> in the <code>AppManifest.styles</code> property. The stylesheet loader can be replaced with any stylesheet loading mechanism such as those found in <a href="http://headjs.com/">HeadJS</a> or <a href="https://github.com/rgrove/lazyload">LazyLoad</a>.</p>
<p>To override the stylesheet loader, assign a function to <code>loadStyles</code> in <code>F2.init</code> as shown below. The function is passed <code>styles</code> (array) and <code>callback</code> (function) which needs to be called when all stylesheets have been loaded.</p>
<pre><code class="lang-javascript">F2.init({
    loadStyles: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(styles,callback)</span></span>{
        <span class="hljs-comment">//perform stylesheet loading</span>
        callback();
    }
});
</code></pre>
<p>The following example demonstrates using <a href="http://headjs.com/site/api/v1.00.html#load">HeadJS</a> to load stylesheet dependencies:</p>
<pre><code class="lang-javascript">F2.init({
    loadStyles: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(styles,callback)</span></span>{
        head.load(styles, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
            callback();
        });
    }
});
</code></pre>
<p><span class="label label-important">Important</span> The <code>callback</code> function must be executed on completion of the stylesheet loading so F2 can continue registering apps.</p>
<h5 class="link-header"><a id="override-the-inline-script-loader" class="anchor" href="#override-the-inline-script-loader"><span class="fa fa-link"></span></a>Override the Inline Script Loader</h5><p>As defined in the <code>AppManifest</code>, each F2 App can have inline script dependencies. These are <a href="app-development.html#app-manifest">defined as strings</a> in the <code>AppManifest.inlineScripts</code> property (type array). The inline script evaluator can be replaced with any script evaluator, however, it is expected Container Developers will not require an alternative to the <code>eval</code> currently in use.</p>
<p>To override the inline script evaluator, assign a function to <code>loadInlineScripts</code> in <code>F2.init</code> as shown below. The function is passed <code>inlines</code> (array) and <code>callback</code> (function) which needs to be called when all inline scripts have been evaluated.</p>
<pre><code class="lang-javascript">F2.init({
    loadInlineScripts: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(inlines,callback)</span></span>{
        <span class="hljs-comment">//perform inline script evaluation</span>
        callback();
    }
});
</code></pre>
<p><span class="label label-important">Important</span> The <code>callback</code> function must be executed on completion of the script loading so F2 can continue registering apps.</p>
<p><span class="label label-info">Note</span> This Container Config option was added not because it is expected Container Developers will need or use it but rather to prevent unnecessary scripting in the <a href="#override-the-request-for-app-dependencies">script override config option</a>.</p>
<h4 class="link-header"><a id="supported-views" class="anchor" href="#supported-views"><span class="fa fa-link"></span></a>Supported Views</h4><p>F2 Container Developers should define which <a href="app-development.html#f2.ui.views">app views</a> their container supports. This is set in the <code>supportedViews</code> property of the <code>ContainerConfig</code> using <a href="./sdk/classes/F2.Constants.Views.html"><code>F2.Constants.Views</code></a>.</p>
<pre><code class="lang-javascript">F2.init({
    supportedViews: [F2.Constants.Views.HOME, F2.Constants.Views.SETTINGS, F2.Constants.Views.REMOVE]
});
</code></pre>
<p><span class="label label-info">Note</span> Every F2 app has a <code>home</code> view (whether defined by the App Developer or not). This means if no views are provided by the App Developer, a <code>home</code> view is automatically added to <code>appConfig.views</code> during the app registration process inside F2.</p>
<h4 class="link-header"><a id="secure-apps" class="anchor" href="#secure-apps"><span class="fa fa-link"></span></a>Secure Apps</h4><p>For information about how to configure secure apps (i.e., load 3rd party apps in an isolated <code>iframe</code>) on a container, <a href="#secure-apps">read about Secure Apps</a>.</p>
<h4 class="link-header"><a id="container-templates" class="anchor" href="#container-templates"><span class="fa fa-link"></span></a>Container Templates</h4><p>If you’re looking for sample container HTML template code, jump to the <a href="#get-started">Get Started section</a>.</p>
<hr>
<h2 class="link-header"><a id="app-integration" class="anchor" href="#app-integration"><span class="fa fa-link"></span></a>App Integration</h2><p>There are two ways of integrating apps on a container: <a href="#requesting-apps-on-demand">requesting apps on-demand</a> (via HTTP) or by <a href="#registering-pre-loaded-apps">linking pre-loaded apps</a>. Requesting apps on-demand when the container loads is the traditional way of integrating apps with F2. Incorporating apps which have been pre-fetched or are otherwise already on the container when it loads is an alternative method. The following sections describe both of these methods in detail.</p>
<p>The process of loading apps on a container occurs by using a method called <code>F2.registerApps()</code>. The Container Developer must call <a href="./sdk/classes/F2.html">this method</a>&mdash;which accepts two arguments: one required, one optional&mdash; after <code>F2.init()</code> is called. If this method isn’t called, no apps can be loaded on the container.</p>
<p>The two arguments provided to <code>registerApps()</code> are an array of <code>AppConfig</code> objects and, optionally, an array of <code>AppManifest</code> objects. As F2.js parses each <code>AppConfig</code>, the apps are validated, hydrated with some additional properties, and saved in browser memory on the container. Regardless of where the container’s <code>AppConfig</code> object is defined (hard-coded or via API), integrating apps is a simple process. </p>
<h3 class="link-header"><a id="appconfigs" class="anchor" href="#appconfigs"><span class="fa fa-link"></span></a>AppConfigs</h3><p>Before continuing, let’s discuss the <code>AppConfig</code>. The container-provided app configurations are represented simply as an array of <a href="./sdk/classes/F2.AppConfig.html">AppConfig objects</a>. These could be configured statically or fetched from an F2 Registry API. <code>AppConfig</code> objects contain app meta data&mdash;including the <code>manifestUrl</code>&mdash;provided by the App Developer when an app is registered in the <a href="index.html#developer-center">Developer Center</a>. </p>
<p>An example <code>AppConfig</code> object from an <em>individual</em> app:</p>
<pre><code class="lang-javascript">{
    appId: <span class="hljs-string">"com_companyName_appName"</span>,
    manifestUrl: <span class="hljs-string">"http://www.domain.com/manifest.js"</span>,
    name: <span class="hljs-string">"App name"</span>,
    context: {
        data: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
    }
}
</code></pre>
<p>An example array of <code>AppConfig</code> objects for a collection of apps:</p>
<pre><code class="lang-javascript">[
    {
        appId: <span class="hljs-string">"com_companyName_appName"</span>,
        manifestUrl: <span class="hljs-string">"http://www.domain.com/manifest.js"</span>,
        name: <span class="hljs-string">"App name"</span>,
        context: {
            data: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
        }
    },
    {
        appId: <span class="hljs-string">"com_companyName_appName2"</span>,
        manifestUrl: <span class="hljs-string">"http://www.domain.com/manifest2.js"</span>,
        name: <span class="hljs-string">"App2 name"</span>,
        context: {
            name: <span class="hljs-string">'value'</span>
        }
    },
    {
        appId: <span class="hljs-string">"com_companyName_appName3"</span>,
        manifestUrl: <span class="hljs-string">"http://www.domain.com/manifest3.js"</span>,
        name: <span class="hljs-string">"App3 name"</span>,
        context: {
            status: <span class="hljs-string">'ok'</span>
        }
    },
];
</code></pre>
<h3 class="link-header"><a id="requesting-apps-on-demand" class="anchor" href="#requesting-apps-on-demand"><span class="fa fa-link"></span></a>Requesting Apps On-Demand</h3><p>Requesting apps on-demand when the container loads is the traditional way of integrating apps with F2. For the purposes of this example, we will use an example news app from <a href="http://www.openf2.org/Examples">OpenF2.org</a>. </p>
<p>Let’s look at some container code.</p>
<h4 class="link-header"><a id="static-app-configuration" class="anchor" href="#static-app-configuration"><span class="fa fa-link"></span></a>Static App Configuration</h4><p>First, we define the <code>AppConfig</code> in a <em>hard-coded</em> <code>_appConfig</code> variable. This example demonstrates only a single app; if there were multiple apps, <code>_appConfig</code> would be an array of objects versus an object literal. Secondly, when the document is ready, <code>F2.init()</code> is called and subsequently <code>F2.registerApps()</code> with the single argument.</p>
<iframe width="100%" height="350" src="http://jsfiddle.net/OpenF2js/eBqmn/2/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>This javascript code will insert the example news app into the container’s <code>&lt;body&gt;</code>. Press <strong>Result</strong> in the jsfiddle above to try this demo. </p>
<p><span class="label label-info">Note</span> If more granular control is needed for app placement, use <code>F2.AppHandlers</code> functionality. Read about that in <a href="#apphandlers-for-app-layout">AppHandlers for App Layout</a>.</p>
<h4 class="link-header"><a id="dynamic-app-configuration" class="anchor" href="#dynamic-app-configuration"><span class="fa fa-link"></span></a>Dynamic App Configuration</h4><p>As an alternative to static app configuration shown above, the <code>_appConfig</code> variable could be assigned the result of an API call to the <a href="index.html#the-store">F2 Registry</a>. The Registry API response is designed to match the structure of the <code>AppConfig</code> for passing the JSON straight through to F2 in your code. Whether your app configuration JSON comes from the F2 Registry or your own database is irrelevant; the process is identically the same as shown in this example.</p>
<iframe width="100%" height="800" src="http://jsfiddle.net/OpenF2js/bKQ96/7/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p><span class="label label-info">About this jsfiddle</span> To simulate an ajax request, this example uses jsfiddle’s <a href="http://doc.jsfiddle.net/use/echo.html">echo feature</a>. Simply replace the <code>getAppConfigs</code> function with your own ajax request and ignore the <code>echoData</code> variable.</p>
<h3 class="link-header"><a id="batch-requesting-apps" class="anchor" href="#batch-requesting-apps"><span class="fa fa-link"></span></a>Batch Requesting Apps</h3><p>F2 supports batch requesting of multiple apps hosted on the same domain. The default app registration process sends a single outbound HTTP request for <em>each app</em> registered with F2. For example, when registering five apps, five HTTP requests would be made for each app’s <code>AppManifest</code>. Implementing the same five apps using a batch request would result in only a single HTTP request thus greatly speeding up page performance.</p>
<p>Implementing F2 container code for apps to be requested in a batch is as simple as setting the <code>AppConfig.enableBatchRequests</code> property to <code>true</code>. The only additional requirement is that the apps to-be-batched must have the same <code>AppConfig.manifestUrl</code> value. That is, <strong>the batched apps must be on the same domain</strong>.</p>
<h4 class="link-header"><a id="example" class="anchor" href="#example"><span class="fa fa-link"></span></a>Example</h4><iframe width="100%" height="450" src="http://jsfiddle.net/OpenF2js/mETUY/3/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>Open your browser developer tools to see the single HTTP request to <code>http://www.openf2.org/Examples/Apps</code>. You could modify this jsFiddle and set <em>one</em> of the AppConfig <code>enableBatchRequests</code> to <code>false</code>. Then re-run the code to see <em>two</em> HTTP requests sent in your developer tools. </p>
<div class="alert alert-block alert-warning">
    <h4>Important</h4>
    The <code>params</code> querystring value for both batch-requested and non-batch-requested apps is a <a href="#container-to-app-context-server">serialized collection of AppConfigs</a>. In a scenario when many apps are batch-requested it would be possible to quickly reach the maximum HTTP GET character limit. In <a href="http://www.boutell.com/newfaq/misc/urllength.html">IE that limit is 2048 characters</a>, it is longer in more modern browsers. To work around this issue, F2 recommends either configuring <a href="#override-the-appmanifest-request">HTTP POST</a> if the container and apps are on the same domain or by <a href="http://enable-cors.org/">implementing CORS</a>.
</div>

<p><span class="label label-info">Note</span> For more information about the <code>AppConfig</code>, <a href="#appconfigs">read up on them</a> at the top of App Integration.</p>
<h3 class="link-header"><a id="registering-pre-loaded-apps" class="anchor" href="#registering-pre-loaded-apps"><span class="fa fa-link"></span></a>Registering Pre-Loaded Apps</h3><p>Incorporating apps which have been pre-loaded or are otherwise already on the container when it loads is an alternative method to integrating F2 apps. This method is useful when the container is being constructed on the server-side (at run-time or on a schedule) and F2 functionality is desired. To use pre-loaded apps, the Container Developer is required to make a request to each app’s <code>AppManifest</code> and its dependencies <em>before</em> the page is rendered.</p>
<p>For the following example, let’s assume you have a web page composed on the server and all of its HTML is delivered to the browser in one payload. This page also has at least one widget (or component) you’d like to register with F2.js. </p>
<h4 class="link-header"><a id="1-setup-container" class="anchor" href="#1-setup-container"><span class="fa fa-link"></span></a>1. Setup Container</h4><p>To use pre-loaded apps, a web page with a placeholder element for the apps is required. This simple (and empty) web page features a <code>div#news_app.span12</code> which serves as that placeholder or “root” element.</p>
<pre><code class="lang-html"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>F2 Container<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"/path/to/your/bootstrap.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"row"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"span12"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"news_app"</span>&gt;</span>
                    <span class="hljs-comment">&lt;!--app goes here--&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"/path/to/your/F2.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<h4 class="link-header"><a id="2-request-appmanifest" class="anchor" href="#2-request-appmanifest"><span class="fa fa-link"></span></a>2. Request AppManifest</h4><p>Next, make a server-side request to the news app’s <code>AppManifest</code>&mdash;the URL is found in <code>manifestUrl</code>&mdash;and capture the resulting JSON. Each <code>AppManifest</code> contains scripts, style sheets and HTML (<a href="app-development.html#app-manifest">more about the <code>AppManifest</code></a>). The market news app’s <code>AppManifest</code> looks like this:</p>
<pre><code class="lang-javascript">{
   <span class="hljs-string">"apps"</span>:[{
         <span class="hljs-string">"data"</span>:{},
         <span class="hljs-string">"html"</span>: <span class="hljs-string">"&lt;div data-module-name=\"MarketNewsApp\"&gt;...&lt;/div&gt;"</span>,
    }],
   <span class="hljs-string">"scripts"</span>:[
      <span class="hljs-string">"http://www.openf2.org/js/main.js"</span>
   ],
   <span class="hljs-string">"styles"</span>:[
      <span class="hljs-string">"http://www.openf2.org/css/site.css"</span>
   ]
}
</code></pre>
<p><span class="label label-info">Note</span> Parts of this <code>AppManifest</code> were intentionally removed for legibility, including the required JSONP function name (<code>F2_jsonpCallback_com_openf2_examples_csharp_marketnews</code>). The full <code>AppManifest</code> is <a href="http://www.openf2.org/Examples/Apps?params=%5B%7B%22appId%22%3A%22com_openf2_examples_csharp_marketnews%22%7D%5D">available on OpenF2.org</a>.</p>
<div class="alert alert-block alert-info">
    <h5>Performance Tip</h5>
    Container Developers can use the <code>AppConfig</code> and pre-loaded <code>AppManifest</code> (from step 2 above) in conjunction with <code>F2.registerApps()</code> to speed up the loading of F2 containers. For more information, browse to <a href="#combining-appconfig-and-appmanifest">Combining AppConfig and AppManifest</a>.
</div>

<h4 class="link-header"><a id="3-add-app-to-container" class="anchor" href="#3-add-app-to-container"><span class="fa fa-link"></span></a>3. Add App to Container</h4><p>You’re almost there. Next, embed the news app’s <code>html</code>, <code>scripts</code> and <code>styles</code>. The F2 app is inserted into <code>.row &gt; .span12</code> following <a href="http://twitter.github.io/bootstrap/scaffolding.html">Bootstrap’s scaffolding</a> guidelines. The <code>styles</code> were appended to the <code>head</code> and the <code>scripts</code> were appended to the <code>body</code> (in this case just one URL for each).</p>
<pre><code class="lang-html"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>F2 Container<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"/path/to/your/bootstrap.css"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"http://www.openf2.org/css/site.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"row"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"span12"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"news_app"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">data-module-name</span>=<span class="hljs-value">"MarketNewsApp"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"news_app"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"/path/to/your/F2.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://www.openf2.org/js/main.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<p>The example news app is now part of the web page and everything should be functioning properly. <strong>The final step is to register the app with F2</strong>.</p>
<h4 class="link-header"><a id="4-assign-root-element-to-appconfig" class="anchor" href="#4-assign-root-element-to-appconfig"><span class="fa fa-link"></span></a>4. Assign Root Element to AppConfig</h4><p>To use pre-loaded apps, an additional property is required on the <code>AppConfig</code> object. It is called <code>root</code> and can be either a CSS selector string <em>or</em> a DOM element. Regardless of type, F2 will parse the value of <code>root</code> and it must return an existing in-page DOM element. Furthermore, the value of <code>root</code> must represent a <em>unique</em> DOM element as each app needs its own containing, or <code>root</code>, element.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> _appConfig = {
    appId: <span class="hljs-string">'com_openf2_examples_csharp_marketnews'</span>,
    description: <span class="hljs-string">'Example News'</span>,
    manifestUrl: <span class="hljs-string">'http://www.openf2.org/Examples/Apps'</span>,
    name: <span class="hljs-string">'Example News'</span>,
    root: <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'news_app'</span>)
};
</code></pre>
<p>Both of these are valid values for the <code>root</code> property. </p>
<p>Using JavaScript:</p>
<pre><code class="lang-javascript">{
    root: <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'news_app'</span>)
}
</code></pre>
<p>Using a CSS selector string:</p>
<pre><code class="lang-javascript">{
    root: <span class="hljs-string">'#news_app'</span>
}
</code></pre>
<p>F2.js uses jQuery internally to parse the value of the <code>root</code> property and, in turn, jQuery relies on the <a href="http://sizzlejs.com/">Sizzle javascript selector library</a>. If a CSS selector string is assigned to <code>root</code>, it must be a valid CSS 3 selector supported by Sizzle. Refer to the <a href="https://github.com/jquery/sizzle/wiki/Sizzle-Documentation">Sizzle documentation for more details</a>.</p>
<h4 class="link-header"><a id="5-register-app" class="anchor" href="#5-register-app"><span class="fa fa-link"></span></a>5. Register App</h4><p>Since you started with the <code>AppConfig</code> and now have the <code>AppManifest</code> from step 2 along with an HTML page containing the embedded app, all that remains is a simple call to F2. Registering pre-loaded apps with F2.js means passing the ammended <code>AppConfig</code> as shown in the example below. </p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> _appConfig = {
    appId: <span class="hljs-string">'com_openf2_examples_csharp_marketnews'</span>,
    description: <span class="hljs-string">'Example News'</span>,
    manifestUrl: <span class="hljs-string">'http://www.openf2.org/Examples/Apps'</span>,
    name: <span class="hljs-string">'Example News'</span>,
    root: <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'news_app'</span>)
};

$(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    F2.init();
    F2.registerApps(_appConfig);
});
</code></pre>
<p>The web page and pre-loaded news app is a fully F2-enabled container. Rejoice!</p>
<h3 class="link-header"><a id="combining-appconfig-and-appmanifest" class="anchor" href="#combining-appconfig-and-appmanifest"><span class="fa fa-link"></span></a>Combining AppConfig and AppManifest</h3><p>Container Developers can use the <code>AppConfig</code> and pre-loaded <code>AppManifest</code> (from <a href="#request-appmanifest">step 2 above</a>) in conjunction with <code>F2.registerApps()</code> to speed up the loading of F2 containers. The <a href="./sdk/classes/F2.html#methods-registerApps"><code>F2.registerApps()</code> API supports</a> two arguments: <code>appConfigs</code> and <code>appManifests</code>. The former is an array of <a href="./sdk/classes/F2.AppConfig.html"><code>F2.AppConfig</code> objects</a> and the latter is an array of <a href="./sdk/classes/F2.AppManifest.html"><code>F2.AppManifest</code> objects</a>. The <code>appManifests</code> array must be the same length as the <code>appConfigs</code> array that is used as the first argument. This can be useful if apps are loaded on the server-side and passed down to the client.</p>
<p>In the following example, the <code>AppManifest</code> was pre-loaded and stored in the <code>_appManifest</code> variable.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> _appConfig = {
    appId: <span class="hljs-string">'com_openf2_examples_csharp_marketnews'</span>,
    description: <span class="hljs-string">'Example News'</span>,
    manifestUrl: <span class="hljs-string">'http://www.openf2.org/Examples/Apps'</span>,
    name: <span class="hljs-string">'Example News'</span>,
    root: <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'news_app'</span>)
};

<span class="hljs-keyword">var</span> _appManifest = {
   <span class="hljs-string">"apps"</span>:[{
         <span class="hljs-string">"data"</span>:{},
         <span class="hljs-string">"html"</span>: <span class="hljs-string">"&lt;div data-module-name=\"MarketNewsApp\"&gt;...&lt;/div&gt;"</span>,
    }],
   <span class="hljs-string">"scripts"</span>:[
      <span class="hljs-string">"http://www.openf2.org/js/main.js"</span>
   ],
   <span class="hljs-string">"styles"</span>:[
      <span class="hljs-string">"http://www.openf2.org/css/site.css"</span>
   ]
};

$(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    F2.init();
    F2.registerApps(_appConfig,_appManifest);
});
</code></pre>
<p><span class="label label-important">Important</span> The <code>F2.registerApps()</code> API supports both an array of objects and object literals for each argument. Internally, F2.js converts the value of each argument into an array using concatenation (<code>[].concat()</code>). If arrays of objects are used (when there are more than one app on the container), the <code>_appConfig</code> and <code>_appManifest</code> arrays must be of equal length, and the object at each index must be a parallel reference. This means the <code>AppConfig</code> and <code>AppManifest</code> for the sample news app used above must be in <code>_appConfig[0]</code> and <code>_appManifest[0]</code>.</p>
<hr>
<h2 class="link-header"><a id="apphandlers-for-app-layout" class="anchor" href="#apphandlers-for-app-layout"><span class="fa fa-link"></span></a>AppHandlers for App Layout</h2><p>New functionality called <code>F2.AppHandlers</code> was added in F2 1.2, and the conversation about this collection of features occurred in <a href="https://github.com/OpenF2/F2/issues/38">#38</a> on GitHub. The new <code>AppHandlers</code> functionality provides Container Developers a higher level of control over configuring app rendering and interaction. </p>
<p class="alert alert-block alert-warning">
The addition of <code>F2.AppHandlers</code> replaces the previous <code>ContainerConfig</code> properties <code>beforeAppRender</code>, <code>appRender</code>, and <code>afterAppRender</code>. These methods were deprecated&mdash;but not removed&mdash;in version 1.2. They will be permanently removed in a future version of F2.
</p>

<p class="alert alert-block alert-info">
Starting with F2 version 1.2, <code>AppHandlers</code> is the preferred method for Container Developers to manage app layout.
</p>

<p>The <code>AppHandlers</code> functionality provides an event-based system for Container Developers’ web applications. The addition of a collection of constants in <code>F2.Constants.AppHandlers</code> shows the primitive set of event types (or hooks) available to developers, including hooks such as <code>appCreateRoot</code>, <code>appRenderAfter</code>, <code>appDestroyAfter</code> and more. (Review the complete <code>F2.Constants.AppHandlers</code> collection in <a href="./sdk/classes/F2.Constants.AppHandlers.html">the F2.js SDK documentation</a>.)</p>
<p>Using <code>AppHandlers</code> is as simple as attaching an event handler function to be executed at the appropriate time as determined by the order of operations in F2. To do this there are three functions available on <code>F2.AppHandlers</code>: <code>getToken</code>, <code>on</code>, and <code>off</code>. We’ll review the token concept first as a token is the required first argument in <code>on</code> and <code>off</code>. </p>
<h3 class="link-header"><a id="apphandler-tokens" class="anchor" href="#apphandler-tokens"><span class="fa fa-link"></span></a>AppHandler Tokens</h3><p>A new feature has been added to F2 as part of <code>AppHandlers</code>: the event token. The token is designed to be used only by Container Developers to ensure the <code>AppHandlers</code> listeners are only called by their applications, and aren’t accessible to App Developers’ code. Container Developers should create a variable for this token in their JavaScript and encapsulate it inside a closure as shown in the example below.</p>
<pre><code class="lang-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> token = F2.AppHandlers.getToken(); 
    <span class="hljs-built_in">console</span>.log(token);
    <span class="hljs-comment">//outputs a GUID like 'ce2e7aae-04fa-96a3-edd7-be67e99937b4'</span>
});
</code></pre>
<p><span class="label label-important">Important</span> The <code>getToken()</code> function can only be called one-time. It self-destructs to protect the token for Container Developers and therefore Container Developers must call <code>F2.AppHandlers.getToken()</code> and store its return value before any F2 apps are registered with the container.</p>
<h3 class="link-header"><a id="default-app-layout" class="anchor" href="#default-app-layout"><span class="fa fa-link"></span></a>Default App Layout</h3><p>In the unlikely event a Container Developer wishes to append all apps to the <code>&lt;body&gt;</code> element, no configuration is required. Simply add this code to the container:</p>
<pre><code class="lang-javascript">F2.init();
F2.registerApps(appConfig);
</code></pre>
<p>Appending apps to the <code>&lt;body&gt;</code> is the default app rendering behavior of F2.</p>
<h3 class="link-header"><a id="custom-app-layout" class="anchor" href="#custom-app-layout"><span class="fa fa-link"></span></a>Custom App Layout</h3><p>F2 <code>AppHandlers</code> provide event handlers for customized app layout using <code>F2.AppHandlers.on()</code> and <code>F2.AppHandlers.off()</code>. The use of <code>on</code> and <code>off</code> require both a <a href="#apphandler-tokens">token</a> and an event type as arguments. The event types, defined as constants in <code>F2.Constants.AppHandlers</code>, are: </p>
<ul>
<li><code>appCreateRoot</code></li>
<li><code>appDestroy</code></li>
<li><code>appDestroyAfter</code></li>
<li><code>appDestroyBefore</code></li>
<li><code>appRender</code></li>
<li><code>appRenderAfter</code></li>
<li><code>appRenderBefore</code> </li>
</ul>
<p>Review the complete <code>F2.Constants.AppHandlers</code> collection and their purpose in <a href="./sdk/classes/F2.Constants.AppHandlers.html">the F2.js SDK documentation</a>. The order of operations is detailed in <a href="./sdk/classes/F2.AppHandlers.html">F2.AppHandlers</a>.</p>
<h4 class="link-header"><a id="appending-an-app-to-a-dom-element" class="anchor" href="#appending-an-app-to-a-dom-element"><span class="fa fa-link"></span></a>Appending an App to a DOM Element</h4><p>There are many uses for <code>AppHandlers</code> in Container Developers’ applications and they are detailed&mdash;including plenty of examples&mdash;in the <a href="./sdk/classes/F2.AppHandlers.html">F2.js SDK documentation</a>. Before jumping to that section of the docs, let’s look at one of the more common uses for <code>AppHandlers</code>: targeting the placement of an app into a specific DOM element.</p>
<p>In the following example, the app will be appended to the <code>#my_sidebar</code> DOM element on the container.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> _token = F2.AppHandlers.getToken(),
    _appConfig = {
        appId: <span class="hljs-string">'com_example_app'</span>,
        manifestUrl: <span class="hljs-string">'/manifest.js'</span>
    };

F2.init();
F2.AppHandlers.on(_token, <span class="hljs-string">'appRender'</span>, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'my_sidebar'</span>));
F2.registerApps(_appConfig);
</code></pre>
<p>F2 will insert <code>html</code> from the <code>AppManifest</code> inside the specified DOM element. The resulting HTML will look like this after <code>registerApps</code> is called. Take note F2.js adds three class names to the app’s outermost element (<code>f2-app</code>, <code>f2-app-container</code>, and <code>com_example_app</code> for the <code>appId</code>).</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"my_sidebar"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--HTML defined in AppManifest inserted here--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"f2-app f2-app-container com_example_app"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"f2-app-view"</span> <span class="hljs-attribute">data-f2-view</span>=<span class="hljs-value">"home"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Hello World!<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p><span class="label label-info">Note</span> The original <code>html</code> in this example app manifest is <a href="http://docs.openf2.org/demos/apps/JavaScript/HelloWorld/manifest.js">available here</a>.</p>
<p>The jsfiddle below demonstrates a Hello World example using the <code>appRender</code> event type and a DOM element as the third argument in <code>on</code>.</p>
<iframe width="100%" height="400" src="http://jsfiddle.net/OpenF2js/SGKa3/6/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<h4 class="link-header"><a id="placing-apps-in-separate-locations" class="anchor" href="#placing-apps-in-separate-locations"><span class="fa fa-link"></span></a>Placing Apps in Separate Locations</h4><p>Here is a slightly more complicated example of the <code>appRender</code> event coupled with <code>appCreateRoot</code> to place two apps in two separate DOM elements.</p>
<iframe width="100%" height="750" src="http://jsfiddle.net/OpenF2js/3gZJu/2/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<h4 class="link-header"><a id="more-apphandlers" class="anchor" href="#more-apphandlers"><span class="fa fa-link"></span></a>More AppHandlers</h4><p>There are numerous examples shown on the Properties tab of <a href="./sdk/classes/F2.Constants.AppHandlers.html"><code>F2.Constants.AppHandlers</code></a>. These demonstrate more advanced use of <code>F2.AppHandlers</code> and aim to provide Container Developers demonstrable low-level control over the life-cycle of app rendering.</p>
<hr>
<h2 class="link-header"><a id="namespacing" class="anchor" href="#namespacing"><span class="fa fa-link"></span></a>Namespacing</h2><p>F2 is a <em>web</em> integration framework which means apps are inherently insecure&mdash;at least those <em>non-secure</em> apps. Following this spec, App Developers must avoid CSS collisions and JavaScript namespace issues to provide users with the best possible experience.</p>
<p><span class="label">Note</span> Continue reading for <a href="#secure-apps">more specifics about secure apps</a>.</p>
<h3 class="link-header"><a id="namespacing-css" class="anchor" href="#namespacing-css"><span class="fa fa-link"></span></a>Namespacing CSS</h3><p>As discussed in <a href="#f2-containerid">Developing F2 Containers: F2 ContainerID</a>, to develop an F2 container, you need a unique identifier called an ContainerID. This ContainerID will be unique to your container across the entire open financial framework ecosystem. The format of the ContainerID looks like this: <code>com_container_companyName_containerName</code>, where the <code>companyName</code> “namespace” is your company name and <code>containerName</code> is the name of your container.</p>
<p>To avoid styling conflicts or other display issues related to injecting app-provided style sheets into your container when <code>F2.registerApps()</code> is called, App Developers <a href="app-development.html#namespacing-css">must namespace their CSS selectors</a>. <strong>While there are strict rules for App Developers, the same is true for Container Developers</strong>. This is especially true when nesting multiple F2 apps inside an existing container where that container already has a CSS framework in place. (This is often called the “mutliple container” issue, and a conversation about existing problems and enhancements to F2.js is being discussed in <a href="https://github.com/OpenF2/F2/issues/37">#37</a> and <a href="https://github.com/OpenF2/F2/issues/38">#38</a>.)</p>
<p>In the event there are multiple containers, every CSS selector in container-provided style sheets must be properly namespaced. The <a href="https://github.com/OpenF2/F2/tree/master/examples/container/css">CSS files bundled with the example containers in the F2 project on GitHub</a> demonstrate this concept, and we have included a <a href="https://github.com/OpenF2/F2/blob/master/examples/container/css/README.md">readme</a> for how to use a LESS compiler to automate the namespacing of Bootstrap’s CSS.</p>
<p>In this simple example, container-provided CSS should be namespaced as shown below.</p>
<pre><code class="lang-css"><span class="hljs-class">.com_container_companyName_containerName</span> <span class="hljs-tag">p</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"><span class="hljs-number">5px</span></span></span>;
<span class="hljs-rule">}</span></span>

<span class="hljs-class">.com_container_companyName_containerName</span> <span class="hljs-class">.alert</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value">red</span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>
<p>Note <code>.com_container_companyName_containerName</code> is prefixed on both <code>p</code> and <code>.alert</code> selectors.</p>
<p>While the <a href="http://www.webdesignfromscratch.com/html-css/css-inheritance-cascade/">CSS cascade</a> will assign more points to IDs and while prefixing F2 ContainerIDs on CSS selectors isn’t required, it is recommended.</p>
<pre><code class="lang-css"><span class="hljs-class">.com_container_companyName_containerName</span> <span class="hljs-id">#notice</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value">yellow</span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>
<h4 class="link-header"><a id="about-css-resets" class="anchor" href="#about-css-resets"><span class="fa fa-link"></span></a>About CSS Resets</h4><p>It is a common web development practice to use <a href="http://meyerweb.com/eric/tools/css/reset/">CSS resets</a>, and it is likely both Container and App Developers will use them. Since there are many ways to normalize built-in browser stylesheets, including <a href="http://necolas.github.com/normalize.css/">Normalize.css</a> which is used by Bootstrap, Container and App Developers must namespace their CSS reset selectors.</p>
<h4 class="link-header"><a id="about-bootstrap-3" class="anchor" href="#about-bootstrap-3"><span class="fa fa-link"></span></a>About Bootstrap 3</h4><p><span class="label label-important">Important</span> F2 continues to leverage Bootstrap as the means to achieve consistent HTML &amp; CSS structures&mdash;and therefore seamless styling&mdash;between containers and apps. F2 has not upgraded to <a href="http://getbootstrap.com/">Bootstrap 3</a>, the latest <strong><a href="http://getbootstrap.com/2.3.2/">officially-supported Bootstrap version is 2.3.2</a></strong>. <a href="http://blog.openf2.org/2014/09/supporting-bootstrap-3.html">Read the blog post</a> for more information on using Bootstrap 3 today. </p>
<h3 class="link-header"><a id="keeping-javascript-clean" class="anchor" href="#keeping-javascript-clean"><span class="fa fa-link"></span></a>Keeping JavaScript Clean</h3><p>Adhering to one of the <a href="http://www.openajax.org/">OpenAjax Alliance</a> goals, F2 also promotes the concept of an uncluttered global javascript namespace. For Container and App Developers alike, this means following this spec closely and ensuring javascript code is contained inside <a href="http://jibbering.com/faq/notes/closures/">closures</a> or is extended as a new namespace on <code>F2</code>.</p>
<p>The F2.js SDK was designed with extensibility in mind and therefore custom logic can be added on the <code>F2</code> namespace.</p>
<p>Example:</p>
<pre><code class="lang-javascript">F2.extend(<span class="hljs-string">'YourPluginName'</span>, (<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">return</span> {
        doSomething: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
            F2.log(<span class="hljs-string">"Something has been done."</span>);
        }
    };
})());
</code></pre>
<p>For more information, read <a href="extending-f2.html">Extending F2</a>.</p>
<hr>
<h2 class="link-header"><a id="context" class="anchor" href="#context"><span class="fa fa-link"></span></a>Context</h2><p>Apps are capable of sharing “context” with the container and other nearby apps. All apps have context which means the app “knows” who is using it and the content it contains. It is aware of an individual’s data entitlements and user information that the container is requested to share (name, email, company, etc).  </p>
<p>This means if a user wants to create a ticker-focused container so they can keep a close eye on shares of Proctor &amp; Gamble, the container can send “symbol context” to any listening apps that are smart enough to refresh when ticker symbol PG is entered in the container’s search box.</p>
<p>While apps can have context themselves, the responsibility for managing context switching or context passing falls on the container. The container assumes the role of a traffic cop—managing which data goes where. By using JavaScript events, the container can listen for events sent by apps and likewise apps can listen for events sent by the container. To provide a layer of security, this means apps cannot communicate directly with other apps on their own; apps must communicate via an F2 container to other apps since the container controls the <a href="../docs/sdk/classes/F2.Events.html">F2.Events API</a>.</p>
<p><a href="index.html#framework">Read more in the Framework</a>.</p>
<h3 class="link-header"><a id="how-to-use-context" class="anchor" href="#how-to-use-context"><span class="fa fa-link"></span></a>How to use Context</h3><p>Each container will be responsible for hosting the <a href="f2js-sdk.html">F2.js JavaScript SDK</a>. The F2 SDK not only provides the consistent mechanism app developers have come to expect for loading their apps on the container, but also contains an <a href="./sdk/classes/F2.Events.html">event API</a> for handling context.</p>
<p><span class="label label-important">Important</span> It is important to note that while apps can have context themselves, the responsibility for managing context switching or context passing falls on the container. The container assumes the role of a traffic cop&mdash;managing which data goes where. By using JavaScript events, the container can listen for events sent by apps and likewise apps can listen for events sent by the container. This means <strong>apps cannot communicate directly with other apps on their own</strong>; apps communicate via the container to other apps since the container controls the <code>F2.Events</code> API.</p>
<p>Let’s look at some code.</p>
<h3 class="link-header"><a id="container-to-app-context" class="anchor" href="#container-to-app-context"><span class="fa fa-link"></span></a>Container-to-App Context</h3><p>In this example, the container broadcasts, or emits, a javascript event defined in <code>F2.Events.Constants</code>. The <code>F2.Events.emit()</code> method accepts two arguments: the event name and an optional data object.</p>
<pre><code class="lang-javascript">F2.Events.emit(
    F2.Constants.Events.CONTAINER_SYMBOL_CHANGE, 
    { 
        symbol: <span class="hljs-string">"AAPL"</span>, 
        name: <span class="hljs-string">"Apple, Inc."</span> 
    }
);
</code></pre>
<p>To listen to the <code>F2.Constants.Events.CONTAINER_SYMBOL_CHANGE</code> event inside your F2 app, you can use this code to trigger an alert dialog with the symbol:</p>
<pre><code class="lang-javascript">F2.Events.on(
    F2.Constants.Events.CONTAINER_SYMBOL_CHANGE, 
    <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
        F2.log(<span class="hljs-string">"The symbol was changed to "</span> + data.symbol);
    }
);
</code></pre>
<p>The <code>F2.Events.on()</code> method accepts the event name and listener function as arguments. <a href="./sdk/classes/F2.Events.html">Read the SDK</a> for more information.</p>
<p><span class="label">Note</span> For a full list of support event types, browse to the SDK for <a href="./sdk/classes/F2.Constants.Events.html">F2.Constants.Events</a>.</p>
<h3 class="link-header"><a id="container-to-app-context-server-" class="anchor" href="#container-to-app-context-server-"><span class="fa fa-link"></span></a>Container-to-App Context (Server)</h3><p>Often times containers will want to send context to apps during <a href="./sdk/classes/F2.html#methods-registerApps">app registration</a>. This is possible through the <code>AppConfig.context</code> property. This <a href="./sdk/classes/F2.AppConfig.html#properties-context">property</a> can contain any javascript object&mdash;a string, a number, an array or an object. </p>
<pre><code class="lang-javascript"><span class="hljs-comment">//define app config</span>
<span class="hljs-keyword">var</span> _appConfigs = [
    {
        appId: <span class="hljs-string">"com_acmecorp_news"</span>,
        description: <span class="hljs-string">"Acme Corp News"</span>,
        manifestUrl: <span class="hljs-string">"http://www.acme.com/apps/news-manifest.js"</span>,
        name: <span class="hljs-string">"Acme News App"</span>,
        context: {
            sessionId: myApp.sessionId,
            someArray: [value1,value2]
        }
    }
];
</code></pre>
<p>When <code>F2.registerApps()</code> is called, the <code>appConfig</code> is serialized and posted to the app’s manifest URL. The serialized object converts to <a href="./sdk/classes/F2.html#methods-stringify">stringified JSON</a>:</p>
<pre><code class="lang-javascript">{<span class="hljs-string">"appId"</span>:<span class="hljs-string">"com_acmecorp_news"</span>,<span class="hljs-string">"description"</span>:<span class="hljs-string">"Acme Corp News"</span>,<span class="hljs-string">"manifestUrl"</span>:<span class="hljs-string">"http://www.acme.com/apps/news-manifest.js"</span>,<span class="hljs-string">"name"</span>:<span class="hljs-string">"Acme News App"</span>,<span class="hljs-string">"context"</span>:{<span class="hljs-string">"sessionId"</span>:<span class="hljs-string">"12345"</span>, <span class="hljs-string">"someArray"</span>:[<span class="hljs-string">"value1"</span>,<span class="hljs-string">"value2"</span>]}}
</code></pre>
<p>The <code>appConfig</code> object is sent to the server using the <code>params</code> querystring name as shown in the example below. This is the complete app manifest request sent by <code>F2.registerApps()</code> with the <code>appConfig</code> URL-encoded, of course:</p>
<pre><code class="lang-html">http://www.acme.com/apps/news-manifest.js?params=%7B%22appId%22%3A%22com_acmecorp_news%22%2C%22description%22%3A%22Acme%20Corp%20News%22%2C%22manifestUrl%22%3A%22http%3A%2F%2Fwww.acme.com%2Fapps%2Fnews-manifest.js%22%2C%22name%22%3A%22Acme%20News%20App%22%2C%22context%22%3A%7B%22sessionId%22%3A%2212345%22%2C%20%22someArray%22%3A%5B%22value1%22%2C%22value2%22%5D%7D%7D
</code></pre>
<p>This demonstrates complete flexibility of passing arbitrary context values from the container to any F2 app.</p>
<h3 class="link-header"><a id="app-to-container-context" class="anchor" href="#app-to-container-context"><span class="fa fa-link"></span></a>App-to-Container Context</h3><p>In this example, your app emits an event indicating a user is looking at a different stock ticker <em>within your app</em>. Using <code>F2.Events.emit()</code> in your code, your app broadcasts the new symbol. As with container-to-app context passing, the <code>F2.Events.emit()</code> method accepts two arguments: the event name and an optional data object.</p>
<pre><code class="lang-javascript">F2.Events.emit(
    F2.Constants.Events.APP_SYMBOL_CHANGE, 
    { 
        symbol: <span class="hljs-string">"MSFT"</span>, 
        name: <span class="hljs-string">"Microsoft, Inc."</span> 
    }
);
</code></pre>
<p>The container would need to listen to your app’s broadcasted <code>F2.Constants.Events.APP_SYMBOL_CHANGE</code> event using code like this:</p>
<pre><code class="lang-javascript">F2.Events.on(
    F2.Constants.Events.APP_SYMBOL_CHANGE, 
    <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
        F2.log(<span class="hljs-string">"The symbol was changed to "</span> + data.symbol);
    }
);
</code></pre>
<p><span class="label">Note</span> For a full list of support event types, browse to the SDK for <a href="./sdk/classes/F2.Constants.Events.html">F2.Constants.Events</a>.</p>
<h3 class="link-header"><a id="app-to-app-context" class="anchor" href="#app-to-app-context"><span class="fa fa-link"></span></a>App-to-App Context</h3><p>Apps can also pass context between apps. If there are two or more apps on a container with similar context and the ability to receive messages (yes, through event listeners, context receiving is opt-in), apps can communicate with each other. To communicate with another app, each app will have to know the event name along with the type of data being passed. Let’s take a look.</p>
<p>Within “App 1”, context is <em>sent</em> using <code>F2.Events.emit()</code>:</p>
<pre><code class="lang-javascript">F2.Events.emit(
    <span class="hljs-string">"buy_stock"</span>, <span class="hljs-comment">//custom event name</span>
    { 
        symbol: <span class="hljs-string">"GOOG"</span>, 
        name: <span class="hljs-string">"Google Inc"</span>,
        price: <span class="hljs-number">682.68</span>,
        isAvailableToPurchase: <span class="hljs-literal">true</span>,
        orderType: <span class="hljs-string">"Market Order"</span>
    }
);
</code></pre>
<p>Within “App 2”, context is <em>received</em> using <code>F2.Events.on()</code>:</p>
<pre><code class="lang-javascript">F2.Events.on(
    <span class="hljs-string">"buy_stock"</span>, 
    <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
        <span class="hljs-keyword">if</span> (data.isAvailableToPurchase){
            F2.log(<span class="hljs-string">"Trade ticket order for "</span> + data.symbol + <span class="hljs-string">" at $"</span> + data.price);
        } <span class="hljs-keyword">else</span> {
            F2.log(<span class="hljs-string">"This stock is not available for purchase."</span>)
        }
    }
);
</code></pre>
<h3 class="link-header"><a id="more-complex-context" class="anchor" href="#more-complex-context"><span class="fa fa-link"></span></a>More Complex Context</h3><p>The examples above demonstrate <em>simple</em> Context objects. In the event more complex data and/or data types are needed, F2 Context can support any JavaScript object&mdash;a string, a number, a function, an array or an object. </p>
<p>This is an example Context object demonstrating arbitrary JavaScript objects:</p>
<pre><code class="lang-javascript">F2.Events.emit(
    <span class="hljs-string">"example_event"</span>, <span class="hljs-comment">//custom event name</span>
    { 
        <span class="hljs-comment">//number</span>
        price: <span class="hljs-number">100</span>,
        <span class="hljs-comment">//string</span>
        name: <span class="hljs-string">'John Smith'</span>,
        <span class="hljs-comment">//function</span>
        callback: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
            F2.log(<span class="hljs-string">'Callback!'</span>);
        },
        <span class="hljs-comment">//array</span>
        watchlist: [<span class="hljs-string">'AAPL'</span>,<span class="hljs-string">'MSFT'</span>,<span class="hljs-string">'GE'</span>],
        <span class="hljs-comment">//object</span>
        userInfo: {
            name: <span class="hljs-string">'John Smith'</span>,
            title: <span class="hljs-string">'Managing Director'</span>,
            groups: [<span class="hljs-string">'Alpha'</span>,<span class="hljs-string">'Beta'</span>],
            sessionId: <span class="hljs-number">1234567890</span>
        }
    }
);
</code></pre>
<p>If two apps want to communicate data for populating a trade ticket <em>and</em> execute a <code>callback</code>, <a href="#scripts-1">appclass.js</a> code might look like this:</p>
<pre><code class="lang-javascript">F2.Events.emit(
    <span class="hljs-string">"buy_stock"</span>, <span class="hljs-comment">//custom event name</span>
    { 
        symbol: <span class="hljs-string">"GOOG"</span>, 
        name: <span class="hljs-string">"Google Inc"</span>,
        price: <span class="hljs-number">682.68</span>,
        isAvailableToPurchase: <span class="hljs-literal">true</span>,
        orderType: <span class="hljs-string">"Market Order"</span>,
        <span class="hljs-comment">//define callback</span>
        callback: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
            alert(<span class="hljs-string">'Trade ticket populated'</span>);
        }
    }
);
</code></pre>
<p>The F2 app listening for the <code>buy_stock</code> event would fire the <code>callback</code> function.</p>
<pre><code class="lang-javascript">F2.Events.on(
    <span class="hljs-string">"buy_stock"</span>, 
    <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
        F2.log(<span class="hljs-string">"Trade ticket order for "</span> + data.symbol + <span class="hljs-string">" at $"</span> + data.price);
        <span class="hljs-comment">//..populate the trade ticket...</span>
        <span class="hljs-comment">//fire the callback</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data.callback === <span class="hljs-string">'function'</span>){
            data.callback();
        }
    }
);
</code></pre>
<h3 class="link-header"><a id="types-of-context" class="anchor" href="#types-of-context"><span class="fa fa-link"></span></a>Types of Context</h3><p>Context is a term used to describe the state of an F2 container and its apps. At the same time, context is also the information passed from <a href="#container-to-app-context">Container-to-App</a> or from <a href="#app-to-app-context">App-to-App</a> or from <a href="#app-to-container-context">App-to-Container</a>. In the examples shown above, two types of context were shown: symbol and trade ticket context. It is important to realize <a href="f2js.html">F2.js</a> allows client-side messaging between third parties using a collection of arbitrary name-value pairs. This provides the utmost flexibility and affords container providers the option to define context within their container.</p>
<h4 class="link-header"><a id="universal-f2-instrument-id" class="anchor" href="#universal-f2-instrument-id"><span class="fa fa-link"></span></a>Universal F2 Instrument ID</h4><p>Said another way, while <code>{ symbol:&quot;AAPL&quot;, name: &quot;Apple, Inc&quot; }</code> can be used to communicate symbol context, developers could also use <code>{ symbol: &quot;123456789&quot; }</code> to identify Apple, Inc. The latter is more likely given not all apps would programmatically understand <code>AAPL</code> but&mdash;given symbol lookup services&mdash;would understand <code>123456789</code> as the universal <em>F2</em> identifier for Apple, Inc. It is clear Container and App Developers alike would prefer to communicate with a guaranteed-to-never-change universal ID for all instrument types across all asset classes. <em>Further details will be forthcoming as the F2 specification evolves.</em></p>
<hr>
<h2 class="link-header"><a id="secure-apps" class="anchor" href="#secure-apps"><span class="fa fa-link"></span></a>Secure Apps</h2><p>Security is a fundamental requirement of any F2 container and many F2 apps. With that in mind, the integration of secure apps on a container requires more attention and effort. The process of <a href="#app-integration">app integration</a> remains largely the same for integrating <em>secure</em> apps with one significant addition: a <em>second</em> container.</p>
<p>To support a secured container environment, one of the <a href="index.html#choices">choices</a> made when writing this specification was the inclusion of an open-source cross-domain in-browser secure messaging library. For this, F2 relies on <a href="https://github.com/oyvindkinsey/easyXDM">easyXDM</a>. EasyXDM helps front-end developers safely work around the <a href="https://developer.mozilla.org/en-US/docs/Same_origin_policy_for_JavaScript">Same Origin Policy</a> using browser-supported techniques without compromising the user experience. For all browsers, the easyXDM transport stack offers bi-directionality, reliability, queueing and sender-verification.</p>
<h3 class="link-header"><a id="container-config" class="anchor" href="#container-config"><span class="fa fa-link"></span></a>Container Config</h3><p>The process of <a href="#container-config">configuring an F2 container</a> to be secure is identical to that of an unsecure container. As such, every container must be setup using <code>ContainerConfig</code> and the <a href="../docs/sdk/classes/F2.ContainerConfig.html">methods available</a>.</p>
<p>In the secure container’s <code>$(document).ready()</code>, add the <code>F2.init()</code>:</p>
<pre><code class="lang-javascript">$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    F2.init({
        <span class="hljs-comment">//define ContainerConfig properties</span>
        appRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig, html)</span></span>{ ... },
        beforeAppRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig, html)</span></span>{ ... },
        afterAppRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig)</span></span>{ ... }
    });
});
</code></pre>
<p>For secure containers, an additional property must be set on the <code>ContainerConfig</code> within <code>F2.init()</code>. Assuiming the container is hosted at <code>https://www.domain.com/container</code>, the following config would be appropriate:</p>
<pre><code class="lang-javascript">$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    F2.init({
        <span class="hljs-comment">//define ContainerConfig properties</span>
        appRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig, html)</span></span>{ ... },
        beforeAppRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig, html)</span></span>{ ... },
        afterAppRender: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig)</span></span>{ ... },
        secureAppPagePath: <span class="hljs-string">"https://secure.domain.com/container"</span> <span class="hljs-comment">//define secure page path</span>
    });
});
</code></pre>
<p>This <code>secureAppPagePath</code> property allows the container to specify which page is used when loading secure apps. To guarantee security, the page <strong>must reside on a different domain</strong> than the parent container. </p>
<p><span class="label label-important">Important</span> Therefore Container Developers need two containers: one non-secure (parent), one secure (child). The parent container can follow the <a href="#basic-container-template">basic template</a> style and must call <code>F2.init()</code> and <code>F2.registerApps()</code> appropriately. Per the above, it must also define the <code>secureAppPagePath</code> property in its <code>ContainerConfig</code>. To see a working container, <a href="https://github.com/OpenF2/F2">browse to the examples in the project repo on GitHub</a>.</p>
<p>Since it will be loaded in an iframe and like its parent, the secure child container must also include a <a href="f2js-sdk.html">copy of the F2.js SDK</a>. Additionally, it must also call <code>F2.init()</code> with a unique <code>ContainerConfig</code>. </p>
<pre><code class="lang-javascript">F2.init({
    appRender:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig, html)</span> </span>{
        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'&lt;div class="span4"&gt;'</span>,
                html,
            <span class="hljs-string">'&lt;/div&gt;'</span>
        ].join(<span class="hljs-string">''</span>);
    },
    afterAppRender:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(appConfig, html)</span> </span>{ ... },

    <span class="hljs-comment">//now set this property to true to tell F2 this is the secure child frame.</span>
    isSecureAppPage:<span class="hljs-literal">true</span>
});
</code></pre>
<p>When the parent container calls <code>registerApps()</code>, F2 looks at each <code>AppConfig</code> for the <code>isSecure</code> bool. If the property is set to <code>true</code>, F2 inserts the secure app inside an iframe and instantiates the easyXDM transport stack. To see a working <em>secure</em> container, <a href="https://github.com/OpenF2/F2">browse to the examples in the project repo on GitHub</a>.</p>
<hr>
<h2 class="link-header"><a id="utilities" class="anchor" href="#utilities"><span class="fa fa-link"></span></a>Utilities</h2><p>The <a href="f2js-sdk.html">F2.js JavaScript SDK</a> provides utility methods for Container Developers. These are available within the <code>F2</code> namespace and complete details are in the <a href="./sdk/classes/F2.html">Reference documentation</a>.</p>
<hr>
<h2 class="link-header"><a id="f2-ui" class="anchor" href="#f2-ui"><span class="fa fa-link"></span></a>F2 UI</h2><p>There are some utility methods provided within F2.js in the <code>UI</code> namespace. These helpers are for controlling layout, showing (or hiding) loading spinners, modals, managing views within apps, and more.  To see which <code>UI</code> helpers are available to App Developers, <a href="app-development.html#f2-ui">read about F2.UI for apps</a>.</p>
<p>For Container Developers, the use of F2’s <code>UI</code> is more than likely limited to customizing the design aesthetic (CSS) and <a href="#f2-ui-mask">configuring the UI properties</a>. </p>
<p>For complete details on <code>F2.UI</code>, <a href="./sdk/classes/F2.UI.html">browse to the SDK docs</a>.</p>
<hr>
<h2 class="link-header"><a id="entitlements" class="anchor" href="#entitlements"><span class="fa fa-link"></span></a>Entitlements</h2><p>User or content entitlements are the responsibility of the App developer. Many apps will need to be decoupled from the content that they need. This could include apps like research aggregation, news filtering, streaming market data, etc. Similarly to how companies build their own websites today with their own authentication and access (or content) entitlements, F2 apps are no different.</p>
<p><em>Further details around app entitlements will be forthcoming as the F2 specification evolves.</em></p>
<hr>
<h2 class="link-header"><a id="single-sign-on" class="anchor" href="#single-sign-on"><span class="fa fa-link"></span></a>Single Sign-On</h2><p>Single sign-on (SSO) will be a shared responsibility between the Container and App Developer. In some cases, containers will want all its apps to be authenticated seamlessly for users, and that will have to be negotiated between Container and App Developers. For the purposes of this documentation, it is assumed Container Developers will build and host authentication for access to their container(s). </p>
<p>Once a user is authenticated on the container, how is the user then authenticated with all of the apps? <a href="#using-encrypted-urls">Encrypted URLs</a>.*</p>
<p><span class="label">Note</span> The Container Developer is free to utilize any app authentication method they deem fit. Container Developers and App Developers will need to work together to finalize the authentication details.</p>
<h3 class="link-header"><a id="using-encrypted-urls" class="anchor" href="#using-encrypted-urls"><span class="fa fa-link"></span></a>Using Encrypted URLs</h3><p>Implementing SSO using encrypted URLs is a simple and straight-forward authentication mechanism for securing cross-domain multi-provider apps. To guarantee security between the Container and App Developers, secure API contracts must be negotiated. This includes, but is not limited to, the choice of cryptographic algorithm (such as <code>AES</code>) and the exchange of public keys.</p>
<p>When the Container Developer calls <code>F2.registerApps()</code>, custom logic should be added to append encrypted user credentials&mdash;on a need-to-know basis&mdash;to <em>each app</em> requiring authentication.</p>
<h3 class="link-header"><a id="considerations" class="anchor" href="#considerations"><span class="fa fa-link"></span></a>Considerations</h3><p>Authentication is a critical part of any container-app relationship. There are a plethora of SSO implementations and there are many considerations for both Container and App Developers alike.</p>
<p><em>Further details around container and app single sign-on will be forthcoming as the F2 specification evolves.</em></p>
<hr>

      </div>
    </div>
  </section>
</div>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-4 col-lg-6">
        <h1 class="hidden-sm hidden-md hidden-lg">F2</h1>
        <p class="hidden-sm hidden-md hidden-lg">An open & free framework created for building financial applications.</p>
        <div class="deepFooter hidden-xs hidden-sm">
          <p>Enabling smarter financial applications</p>
          <p>F2 is governed by its Advisory Board, and maintained by <a href="http://www.markit.com/product/markit-on-demand">Markit On Demand</a> on GitHub. F2 is licensed under the Apache 2.0 License.</p>
        </div>
        <ul class="nav navbar-nav hidden-sm hidden-md hidden-lg list">
          <li><a href="http://docs.openf2.org">Docs</a></li>
          <li><a href="//staging.openf2.org/book">F2 Overview&nbsp;<i class="fa fa-file-pdf-o"></i></a></li>
          <li><a href="http://blog.openf2.org">Blog</a></li>
          <li><a href="//staging.openf2.org/developers">Developers</a></li>
          <li><a href="https://github.com/OpenF2/F2">GitHub</a></li>
          <li><a href="https://twitter.com/OpenF2">@OpenF2</a></li>
        </ul>
      </div>
      <div class="col-sm-12 col-md-8 col-lg-6 hidden-xs">
        <ul class="footer-nav iconlist list-inline">
          <li class="version"><a href="https://github.com/OpenF2/F2" title="F2 on GitHub" class="hexagon"><i class="fa fa-github fa-2x"></i></a>
            <div class="hidden-xs hidden-sm"><a href="https://github.com/OpenF2/F2">
                <h5>View on GitHub</h5>
                <p>Current Version <span data-tag="version">--</span><br/>Released&nbsp;<span data-tag="releaseDate">--</span></p></a></div>
          </li>
          <li><a href="http://blog.openf2.org" title="F2 Blog" class="hexagon"><i class="fa fa-bullhorn fa-2x"></i></a></li>
          <li><a href="//staging.openf2.org/book" title="Download the &quot;F2 Overview&quot; PDF" class="hexagon"><i class="fa fa-book fa-2x"></i></a></li>
          <li><a href="https://twitter.com/OpenF2" title="@OpenF2" class="hexagon"><i class="fa fa-twitter fa-2x"></i></a></li>
        </ul>
      </div>
    </div>
    <div class="row deepFooter">
      <div class="col-xs-12 hidden-md hidden-lg">
        <p>Enabling smarter financial applications</p>
        <p>F2 is governed by its Advisory Board, and maintained by <a href="http://www.markit.com/product/markit-on-demand">Markit On Demand</a> on GitHub. F2 is licensed under the Apache 2.0 License.</p>
      </div>
    </div>
  </div>
</footer>
<!-- <script src="//staging.openf2.org/2.1.0/js/thirdparty/require.js" data-main="//staging.openf2.org/2.1.0/js/main.dist"></script> -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js" type="text/javascript"></script>
<script>
  // define('reqPath','');
  // define('staticPrefix','//staging.openf2.org/2.1.0');
  // define('linkBaseUrl','//staging.openf2.org');
</script>
<script src="js/docs.js" type="text/javascript"></script>
<script type="text/javascript">new F2Docs().initialize();</script>
</body>
</html>