<!DOCTYPE html>
<html>
<head>
	<title>F2 (AMD) - Jasmine Unit Tests</title>

	<link rel="shortcut icon" type="image/png" href="js/jasmine-1.3.1/jasmine_favicon.png">
	<link rel="stylesheet" type="text/css" href="js/jasmine-1.3.1/jasmine.css">
	<link rel="stylesheet" type="text/css" href="css/page.css">
	<script type="text/javascript" src="js/jasmine-1.3.1/jasmine.js"></script>
	<script type="text/javascript" src="js/jasmine-1.3.1/jasmine.async.min.js"></script>
	<script type="text/javascript" src="js/jasmine-1.3.1/jasmine-html.js"></script>

	<!-- from phantom-jasmine -->
	<script type="text/javascript" src="js/console-runner.js"></script>
	
	<!-- include source files here... -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script type="text/javascript" data-dojo-config="async: true" src="https://ajax.googleapis.com/ajax/libs/dojo/1.8.3/dojo/dojo.js"></script>

	<!-- include spec files here... -->
	<script type="text/javascript" src="spec/spec-helpers.js"></script>
	<script type="text/javascript" src="spec/amd-spec.js"></script>
	<script type="text/javascript" src="spec/misc-spec.js"></script>
	<script type="text/javascript" src="spec/preamble-spec.js"></script>
	<script type="text/javascript" src="spec/container-spec.js"></script>
	<script type="text/javascript" src="spec/app-handlers-spec.js"></script>
	
	<script type="text/javascript" src="js/preloadedTest-amd.js"></script>

	<script type="text/javascript">
		require(["dojo/ready"], function (ready) {
			ready(function () {
				var jasmineEnv = jasmine.getEnv();
				jasmineEnv.updateInterval = 1000;

				var htmlReporter = new jasmine.HtmlReporter();

				jasmineEnv.addReporter(htmlReporter);

				jasmineEnv.specFilter = function(spec) {
					return htmlReporter.specFilter(spec);
				};
								
				jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
		
				var console_reporter = new jasmine.ConsoleReporter()
				jasmine.getEnv().addReporter(console_reporter);

				var currentWindowOnload = window.onload;

				window.onload = function() {
					if (currentWindowOnload) {
						currentWindowOnload();
					}
					execJasmine();
				};

				function execJasmine() {
					// allow F2 to be reloaded on the fly
					window.F2_TESTING_MODE = true;
					jasmineEnv.execute();
				}
			})
		});
	</script>

</head>

<body>
	<div id="test-fixture" style="display: none;">Testing</div>
	<!-- Preloaded App Examples -->
	<div class="f2-app f2-app-container com_alikhatami_preloaded_test test1" style="display: none;">Preload test</div>
	<div class="f2-app f2-app-container com_alikhatami_preloaded_test test2" style="display: none;">Preload test</div>
</body>
</html>
